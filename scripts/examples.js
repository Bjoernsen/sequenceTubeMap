!function(){function e(t,n,o){function i(d,a){if(!n[d]){if(!t[d]){var h="function"==typeof require&&require;if(!a&&h)return h(d,!0);if(r)return r(d,!0);var s=new Error("Cannot find module '"+d+"'");throw s.code="MODULE_NOT_FOUND",s}var l=n[d]={exports:{}};t[d][0].call(l.exports,function(e){return i(t[d][1][e]||e)},l,l.exports,e,t,n,o)}return n[d].exports}for(var r="function"==typeof require&&require,d=0;d<o.length;d++)i(o[d]);return i}return e}()({1:[function(e,t,n){"use strict";Object.defineProperty(n,"__esModule",{value:!0});n.inputNodes=[{name:"A",width:1,seq:"A"},{name:"B",width:2,seq:"AA"},{name:"C",width:1,seq:"T"},{name:"D",width:3,seq:"GGG"},{name:"E",width:1,seq:"A"},{name:"F",width:1,seq:"G"},{name:"G",width:3,seq:"ATG"},{name:"H",width:1,seq:"T"},{name:"I",width:1,seq:"C"},{name:"J",width:3,seq:"TAA"},{name:"K",width:1,seq:"C"},{name:"L",width:1,seq:"G"},{name:"M",width:1,seq:"C"},{name:"N",width:1,seq:"A"},{name:"O",width:1,seq:"C"},{name:"P",width:2,seq:"AA"},{name:"Q",width:1,seq:"T"},{name:"R",width:3,seq:"CG"},{name:"S",width:2,seq:"GA"},{name:"T",width:3,seq:"GTT"},{name:"U",width:1,seq:"A"},{name:"V",width:1,seq:"G"},{name:"W",width:8,seq:"TTGTCTCT"},{name:"X",width:1,seq:"T"},{name:"Y",width:1,seq:"C"},{name:"Z",width:1,seq:"A"},{name:"AA",width:3,seq:"CGA"},{name:"AB",width:1,seq:"T"},{name:"AC",width:1,seq:"G"},{name:"AD",width:1,seq:"A"},{name:"AE",width:1,seq:"G"},{name:"AF",width:1,seq:"T"},{name:"AG",width:3,seq:"GTG"}],n.inputTracks1=[{id:0,name:"Track A",indexOfFirstBase:1,sequence:["A","B","D","E","G","H","J","K","M","N","P","Q","S","U","W","X","Z","AA","AE","AG"],freq:3e3},{id:1,name:"Track B",sequence:["A","B","D","E","G","H","J","K","M","N","Q","S","U","AA","AE","AG"],freq:15},{id:2,name:"Track C",sequence:["A","B","D","E","G","H","J","K","M","N","P","Q","S","V","W","X","Z","AB","AE","AG"],freq:300},{id:3,name:"Track D",sequence:["B","C","D","E","G","H","J","L","M","N","P","R","S","U","W","Y","Z","AC","AF","AG"],freq:4},{id:4,name:"Track E",sequence:["B","D","F","G","I","J","L","M","O","P","Q","S","T","V","W","Y","Z","AD","AF","AG"],freq:2}],n.inputTracks2=[{id:0,name:"Track A",indexOfFirstBase:1,sequence:["A","B","D","E","G","H","J","K","M","N","P","Q","S","U","W","X","Z","AA","AG"],freq:4e3},{id:1,name:"Track B",sequence:["A","B","D","E","G","H","J","K","M","N","Q","S","U","AA","AG"],freq:150},{id:2,name:"Track C",sequence:["A","B","D","F","-H","-G","-E","J","K","M","N","P","Q","S","AB","V","W","X","-AA","-Z","AG"],freq:30},{id:3,name:"Track D",sequence:["B","C","D","E","G","H","J","L","-P","-N","-M","R","S","U","W","Y","Z","AC","AF","AG"],freq:10},{id:4,name:"Track E",sequence:["B","D","F","-J","-I","-G","L","M","O","P","Q","S","T","V","W","Y","Z","AD","AF","AG"],freq:3}],n.inputTracks3=[{id:0,name:"Track A",indexOfFirstBase:1,sequence:["A","B","D","E","G","H","J","K","M","N","P","Q","S","U","W","X","Z","AA","AE","AG"]},{id:1,name:"Track B",sequence:["A","B","D","E","G","H","J","K","M","N","Q","S","U","AA","AE","AG"]},{id:2,name:"Track C",sequence:["A","B","D","-H","G","-E","J","K","M","N","P","Q","S","AB","V","W","X","-AE","-AA","-Z","AG"]},{id:3,name:"Track D",sequence:["B","C","D","E","G","H","J","L","-P","-N","-M","R","S","U","W","Y","Z","AC","AF","AG"]},{id:4,name:"Track E",sequence:["B","D","F","G","I","J","L","M","O","P","Q","S","T","V","W","Y","Z","AD","AF","AG"]}],n.inputTracks4=[{id:0,name:"Track A",indexOfFirstBase:1,sequence:["A","B","D","E","G","H","J","K","M","N","P","Q","S","U","W","X","Z","AA","AE","AG"]},{id:1,name:"Track B",sequence:["A","B","D","E","G","H","J","K","M","J","N","Q","S","U","AA","AE","AG"]},{id:2,name:"Track C",sequence:["A","B","D","E","G","H","J","K","M","N","P","Q","S","V","W","X","Z","AB","AE","AG"]},{id:3,name:"Track D",sequence:["B","C","D","E","D","E","G","H","J","L","M","N","P","R","S","U","W","Y","Z","AC","AF","AG"]},{id:4,name:"Track E",sequence:["B","D","F","G","I","J","L","M","O","P","Q","S","T","V","W","Y","Z","AD","AF","AG"]}],n.inputTracks5=[{id:0,name:"Track A",indexOfFirstBase:1,sequence:["A","B","D","E","G","H","J","K","M","N","P","Q","S","U","W","X","Z","AA","AE","AG"]},{id:1,name:"Track B",sequence:["A","B","D","E","G","H","J","Q","K","M","N","S","U","AA","AE","AG"]},{id:2,name:"Track C",sequence:["A","B","D","E","G","H","J","K","M","N","P","Q","S","V","W","X","Z","AB","AE","AG"]},{id:3,name:"Track D",sequence:["B","C","D","H","E","G","J","L","M","N","P","R","S","U","W","Y","Z","AC","AF","AG"]},{id:4,name:"Track E",sequence:["B","D","F","G","I","J","L","M","O","P","Q","S","T","V","W","Y","Z","AD","AF","AG"]}],n.inputTracks6=[{id:0,name:"F1",indexOfFirstBase:1,sequence:["E","D","C","B"]},{id:1,name:"R1",sequence:["A","-B","-C","-D"]},{id:2,name:"R2",sequence:["A","-B","-C","-D"]}],n.bed1=[{track:"Track A",start:23,end:27,type:"exon",name:"exon1"},{track:"Track A",start:29,end:30,type:"exon",name:"exon1"},{track:"Track A",start:17,end:20,type:"exon",name:"exon4"},{track:"Track A",start:37,end:37,type:"exon",name:"exon2"},{track:"Track A",start:0,end:1,type:"exon",name:"exon3"},{track:"Track C",start:7,end:12,type:"exon",name:"exon3"}],n.k3138='\n{"node": [{"sequence": "G", "id": 1},\n{"sequence": "AGGT", "id": 2},\n{"sequence": "T", "id": 3},\n{"sequence": "A", "id": 4},\n{"sequence": "CCCACTCCATAAGGTA", "id": 5},\n{"sequence": "G", "id": 6},\n{"sequence": "T", "id": 7},\n{"sequence": "TTCAGCACCG", "id": 8},\n{"sequence": "CCGTGTCCCGGCCGGGTCGCGGGGAGCCC", "id": 9},\n{"sequence": "C", "id": 10}, {"sequence": "G", "id": 11}, {"sequence": "GG", "id": 12}, {"sequence": "TACATCGCAGTGGGCTACGTGGACGACACGCA", "id": 13}, {"sequence": "GTTCGTGCGGTTCGACAGCGACGCGGCGACTC", "id": 14}, {"sequence": "CGAGGA", "id": 15}, {"sequence": "T", "id": 16}, {"sequence": "C", "id": 17}, {"sequence": "GTAGCCGCAG", "id": 18}, {"sequence": "G", "id": 19}, {"sequence": "T", "id": 20}, {"sequence": "CGC", "id": 21}, {"sequence": "A", "id": 22}, {"sequence": "C", "id": 23}, {"sequence": "GTGGTTGGAG", "id": 24}, {"sequence": "CAGGA", "id": 25}, {"sequence": "G", "id": 26}, {"sequence": "T", "id": 27}, {"sequence": "GGACCGGAGTATTGGGACCGGAGCAC", "id": 28}, {"sequence": "AC", "id": 29}, {"sequence": "G", "id": 30}, {"sequence": "C", "id": 31}, {"sequence": "GAACATCAGGCCCGCGCACAGACTGACAA", "id": 32}, {"sequence": "GAGTGAACCTGCCCATGCCGCGCCGCTACTAC", "id": 33}, {"sequence": "CACCAGAGCTAGGCCGGTGAATGACCCCGGCC", "id": 34}, {"sequence": "TGGGGCGAAGGTCACGACCCCTCCTCATCCCC", "id": 35}, {"sequence": "CACGGACG", "id": 36}, {"sequence": "T", "id": 37}, {"sequence": "C", "id": 38}, {"sequence": "CCCGGGTCCCCCCCGCGAGTCTC", "id": 39}, {"sequence": "CGGCTCC", "id": 40}],\n"edge": [{"from": 2, "to": 3}, {"from": 2, "to": 4}, {"from": 3, "to": 5}, {"from": 4, "to": 5}, {"from": 5, "to": 6}, {"from": 5, "to": 7}, {"from": 6, "to": 8}, {"from": 7, "to": 8}, {"from": 8, "to": 9}, {"from": 9, "to": 10}, {"from": 9, "to": 11}, {"from": 10, "to": 12}, {"from": 11, "to": 12}, {"from": 12, "to": 13}, {"from": 13, "to": 14}, {"from": 14, "to": 15}, {"from": 15, "to": 16}, {"from": 15, "to": 17}, {"from": 16, "to": 18}, {"from": 17, "to": 18}, {"from": 18, "to": 19}, {"from": 18, "to": 20}, {"from": 19, "to": 21}, {"from": 20, "to": 21}, {"from": 21, "to": 22}, {"from": 21, "to": 23}, {"from": 22, "to": 24}, {"from": 23, "to": 24}, {"from": 24, "to": 25}, {"from": 25, "to": 26}, {"from": 25, "to": 27}, {"from": 26, "to": 28}, {"from": 27, "to": 28}, {"from": 28, "to": 29}, {"from": 29, "to": 30}, {"from": 29, "to": 31}, {"from": 30, "to": 32}, {"from": 31, "to": 32}, {"from": 32, "to": 33}, {"from": 33, "to": 34}, {"from": 34, "to": 35}, {"from": 35, "to": 36}, {"from": 36, "to": 37}, {"from": 36, "to": 38}, {"from": 37, "to": 39}, {"from": 38, "to": 39}, {"from": 39, "to": 40}],\n\n "path": [\n {"name": "gi|157734152:29694183-29697368", "mapping": [{"position": {"node_id": 2}, "edit": [{"to_length": 4, "from_length": 4}]}, {"position": {"node_id": 3}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 5}, "edit": [{"to_length": 16, "from_length": 16}]}, {"position": {"node_id": 6}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 8}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 9}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 10}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 12}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 13}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 14}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 15}, "edit": [{"to_length": 6, "from_length": 6}]}, {"position": {"node_id": 16}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 18}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 19}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 21}, "edit": [{"to_length": 3, "from_length": 3}]}, {"position": {"node_id": 22}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 24}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 25}, "edit": [{"to_length": 5, "from_length": 5}]}, {"position": {"node_id": 26}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 28}, "edit": [{"to_length": 26, "from_length": 26}]}, {"position": {"node_id": 29}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 30}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 32}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 33}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 34}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 35}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 36}, "edit": [{"to_length": 8, "from_length": 8}]}, {"position": {"node_id": 37}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 39}, "edit": [{"to_length": 23, "from_length": 23}]}, {"position": {"node_id": 40}, "edit": [{"to_length": 7, "from_length": 7}]} ]},\n {"name": "gi|528476637:29896324-29899509", "mapping": [{"position": {"node_id": 2}, "edit": [{"to_length": 4, "from_length": 4}]}, {"position": {"node_id": 3}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 5}, "edit": [{"to_length": 16, "from_length": 16}]}, {"position": {"node_id": 6}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 8}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 9}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 11}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 12}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 13}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 14}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 15}, "edit": [{"to_length": 6, "from_length": 6}]}, {"position": {"node_id": 16}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 18}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 19}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 21}, "edit": [{"to_length": 3, "from_length": 3}]}, {"position": {"node_id": 23}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 24}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 25}, "edit": [{"to_length": 5, "from_length": 5}]}, {"position": {"node_id": 26}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 28}, "edit": [{"to_length": 26, "from_length": 26}]}, {"position": {"node_id": 29}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 30}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 32}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 33}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 34}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 35}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 36}, "edit": [{"to_length": 8, "from_length": 8}]}, {"position": {"node_id": 37}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 39}, "edit": [{"to_length": 23, "from_length": 23}]}, {"position": {"node_id": 40}, "edit": [{"to_length": 7, "from_length": 7}]}]},\n {"name": "gi|568815454:1186335-1189520", "mapping": [{"position": {"node_id": 2}, "edit": [{"to_length": 4, "from_length": 4}]}, {"position": {"node_id": 4}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 5}, "edit": [{"to_length": 16, "from_length": 16}]}, {"position": {"node_id": 7}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 8}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 9}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 10}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 12}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 13}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 14}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 15}, "edit": [{"to_length": 6, "from_length": 6}]}, {"position": {"node_id": 16}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 18}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 19}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 21}, "edit": [{"to_length": 3, "from_length": 3}]}, {"position": {"node_id": 22}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 24}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 25}, "edit": [{"to_length": 5, "from_length": 5}]}, {"position": {"node_id": 27}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 28}, "edit": [{"to_length": 26, "from_length": 26}]}, {"position": {"node_id": 29}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 30}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 32}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 33}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 34}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 35}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 36}, "edit": [{"to_length": 8, "from_length": 8}]}, {"position": {"node_id": 37}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 39}, "edit": [{"to_length": 23, "from_length": 23}]}, {"position": {"node_id": 40}, "edit": [{"to_length": 7, "from_length": 7}]}]},\n {"name": "gi|568815529:1408009-1411194", "mapping": [{"position": {"node_id": 2}, "edit": [{"to_length": 4, "from_length": 4}]}, {"position": {"node_id": 4}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 5}, "edit": [{"to_length": 16, "from_length": 16}]}, {"position": {"node_id": 7}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 8}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 9}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 10}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 12}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 13}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 14}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 15}, "edit": [{"to_length": 6, "from_length": 6}]}, {"position": {"node_id": 16}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 18}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 19}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 21}, "edit": [{"to_length": 3, "from_length": 3}]}, {"position": {"node_id": 22}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 24}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 25}, "edit": [{"to_length": 5, "from_length": 5}]}, {"position": {"node_id": 27}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 28}, "edit": [{"to_length": 26, "from_length": 26}]}, {"position": {"node_id": 29}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 30}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 32}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 33}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 34}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 35}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 36}, "edit": [{"to_length": 8, "from_length": 8}]}, {"position": {"node_id": 37}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 39}, "edit": [{"to_length": 23, "from_length": 23}]}, {"position": {"node_id": 40}, "edit": [{"to_length": 7, "from_length": 7}]}]},\n {"name": "gi|568815551:1183812-1186995", "mapping": [{"position": {"node_id": 2}, "edit": [{"to_length": 4, "from_length": 4}]}, {"position": {"node_id": 3}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 5}, "edit": [{"to_length": 16, "from_length": 16}]}, {"position": {"node_id": 6}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 8}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 9}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 10}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 12}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 13}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 14}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 15}, "edit": [{"to_length": 6, "from_length": 6}]}, {"position": {"node_id": 16}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 18}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 19}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 21}, "edit": [{"to_length": 3, "from_length": 3}]}, {"position": {"node_id": 23}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 24}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 25}, "edit": [{"to_length": 5, "from_length": 5}]}, {"position": {"node_id": 26}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 28}, "edit": [{"to_length": 26, "from_length": 26}]}, {"position": {"node_id": 29}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 30}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 32}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 33}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 34}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 35}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 36}, "edit": [{"to_length": 8, "from_length": 8}]}, {"position": {"node_id": 37}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 39}, "edit": [{"to_length": 23, "from_length": 23}]}, {"position": {"node_id": 40}, "edit": [{"to_length": 7, "from_length": 7}]}]},\n {"name": "gi|568815561:1183022-1186203", "mapping": [{"position": {"node_id": 2}, "edit": [{"to_length": 4, "from_length": 4}]}, {"position": {"node_id": 4}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 5}, "edit": [{"to_length": 16, "from_length": 16}]}, {"position": {"node_id": 7}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 8}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 9}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 10}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 12}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 13}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 14}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 15}, "edit": [{"to_length": 6, "from_length": 6}]}, {"position": {"node_id": 16}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 18}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 19}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 21}, "edit": [{"to_length": 3, "from_length": 3}]}, {"position": {"node_id": 23}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 24}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 25}, "edit": [{"to_length": 5, "from_length": 5}]}, {"position": {"node_id": 26}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 28}, "edit": [{"to_length": 26, "from_length": 26}]}, {"position": {"node_id": 29}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 31}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 32}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 33}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 34}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 35}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 36}, "edit": [{"to_length": 8, "from_length": 8}]}, {"position": {"node_id": 38}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 39}, "edit": [{"to_length": 23, "from_length": 23}]}, {"position": {"node_id": 40}, "edit": [{"to_length": 7, "from_length": 7}]}]},\n {"name": "gi|568815567:1183447-1186629", "mapping": [{"position": {"node_id": 2}, "edit": [{"to_length": 4, "from_length": 4}]}, {"position": {"node_id": 3}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 5}, "edit": [{"to_length": 16, "from_length": 16}]}, {"position": {"node_id": 6}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 8}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 9}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 10}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 12}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 13}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 14}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 15}, "edit": [{"to_length": 6, "from_length": 6}]}, {"position": {"node_id": 17}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 18}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 20}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 21}, "edit": [{"to_length": 3, "from_length": 3}]}, {"position": {"node_id": 23}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 24}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 25}, "edit": [{"to_length": 5, "from_length": 5}]}, {"position": {"node_id": 26}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 28}, "edit": [{"to_length": 26, "from_length": 26}]}, {"position": {"node_id": 29}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 30}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 32}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 33}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 34}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 35}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 36}, "edit": [{"to_length": 8, "from_length": 8}]}, {"position": {"node_id": 37}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 39}, "edit": [{"to_length": 23, "from_length": 23}]}, {"position": {"node_id": 40}, "edit": [{"to_length": 7, "from_length": 7}]}]},\n {"name": "gi|568815569:1226348-1229533", "mapping": [{"position": {"node_id": 2}, "edit": [{"to_length": 4, "from_length": 4}]}, {"position": {"node_id": 3}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 5}, "edit": [{"to_length": 16, "from_length": 16}]}, {"position": {"node_id": 6}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 8}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 9}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 10}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 12}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 13}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 14}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 15}, "edit": [{"to_length": 6, "from_length": 6}]}, {"position": {"node_id": 16}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 18}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 19}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 21}, "edit": [{"to_length": 3, "from_length": 3}]}, {"position": {"node_id": 23}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 24}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 25}, "edit": [{"to_length": 5, "from_length": 5}]}, {"position": {"node_id": 26}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 28}, "edit": [{"to_length": 26, "from_length": 26}]}, {"position": {"node_id": 29}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 30}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 32}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 33}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 34}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 35}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 36}, "edit": [{"to_length": 8, "from_length": 8}]}, {"position": {"node_id": 37}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 39}, "edit": [{"to_length": 23, "from_length": 23}]}, {"position": {"node_id": 40}, "edit": [{"to_length": 7, "from_length": 7}]}]},\n {"name": "gi|568815592:29926658-29929838", "mapping": [{"position": {"node_id": 2}, "edit": [{"to_length": 4, "from_length": 4}]}, {"position": {"node_id": 4}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 5}, "edit": [{"to_length": 16, "from_length": 16}]}, {"position": {"node_id": 7}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 8}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 9}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 12}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 13}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 14}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 15}, "edit": [{"to_length": 6, "from_length": 6}]}, {"position": {"node_id": 16}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 18}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 20}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 21}, "edit": [{"to_length": 3, "from_length": 3}]}, {"position": {"node_id": 23}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 24}, "edit": [{"to_length": 10, "from_length": 10}]}, {"position": {"node_id": 25}, "edit": [{"to_length": 5, "from_length": 5}]}, {"position": {"node_id": 26}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 28}, "edit": [{"to_length": 26, "from_length": 26}]}, {"position": {"node_id": 29}, "edit": [{"to_length": 2, "from_length": 2}]}, {"position": {"node_id": 30}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 32}, "edit": [{"to_length": 29, "from_length": 29}]}, {"position": {"node_id": 33}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 34}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 35}, "edit": [{"to_length": 32, "from_length": 32}]}, {"position": {"node_id": 36}, "edit": [{"to_length": 8, "from_length": 8}]}, {"position": {"node_id": 37}, "edit": [{"to_length": 1, "from_length": 1}]}, {"position": {"node_id": 39}, "edit": [{"to_length": 23, "from_length": 23}]}, {"position": {"node_id": 40}, "edit": [{"to_length": 7, "from_length": 7}]}]}]}\n',n.read1='\n{\n"sequence": "AGGTTCCCACTCCATAAGGTAGTTCAGCACCGCC",\n"path": {"name": "read 1",\n  "mapping": [\n    {"position": {"node_id": 2}, "rank": 1, "edit": [{"from_length": 4, "to_length": 4}]},\n    {"position": {"node_id": 3}, "rank": 2, "edit": [{"from_length": 1, "to_length": 1}]},\n    {"position": {"node_id": 5}, "rank": 3, "edit": [{"from_length": 16, "to_length": 16}]},\n    {"position": {"node_id": 6}, "rank": 4, "edit": [{"from_length": 1, "to_length": 1}]},\n    {"position": {"node_id": 8}, "rank": 5, "edit": [{"from_length": 10, "to_length": 10}]},\n    {"position": {"node_id": 9}, "rank": 6, "edit": [{"from_length": 2, "to_length": 2}]}]},\n"score": 57, "identity": 1.0 }\n',n.read2='{"sequence": "CCGGCCGGGTCGCGGGGAGCCCCGGTACATCGCAGTGGGCTACGTGGACGA", "path": {"mapping": [{"rank": 1, "edit": [{"from_length": 22, "to_length": 22}], "position": {"offset": 7, "node_id": 9}}, {"rank": 2, "edit": [{"from_length": 1, "to_length": 1}], "position": {"node_id": 10}}, {"rank": 3, "edit": [{"from_length": 2, "to_length": 2}], "position": {"node_id": 12}}, {"rank": 4, "edit": [{"from_length": 26, "to_length": 26}], "position": {"node_id": 13}}]}, "score": 51, "identity": 1.0}',
n.read3='{"sequence": "GGTTCCCACTCCATAAGGTAGTTCAGCACCGCCGTGTCCCGGCCGGGTCGCGGGGAGCCCCGGTACATCGCAGTGGGCTACGTGGACGACACGCAGTTCGTGCGGTTCGACAGCGACGCGGCGACTCCGAGGATGTAGCCGCAGGCGCCGTGGTTGGAGCAGGAGGGACCGGAGTATTGGGACCGGAGCACACGGAACATCAGGCCCGCGCACAGACTGACAAGAGTGAACCTGCCCATGCCGCGCCGCTACTACCACCAGAGCTAGGCCGGTGAATGACCCCGGCCTGGGGCGAAGGTCACGACCCCTCCTCATCCCCCACGGACGTCCCGGGTCCCCCCCGCGAGTCTCCGGCTCC", "path": {"mapping": [{"position": {"node_id": 2, "offset": 1}, "edit": [{"from_length": 3, "to_length": 3}], "rank": 1}, {"position": {"node_id": 3}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 2}, {"position": {"node_id": 5}, "edit": [{"from_length": 16, "to_length": 16}], "rank": 3}, {"position": {"node_id": 6}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 4}, {"position": {"node_id": 8}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 5}, {"position": {"node_id": 9}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 6}, {"position": {"node_id": 10}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 7}, {"position": {"node_id": 12}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 8}, {"position": {"node_id": 13}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 9}, {"position": {"node_id": 14}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 10}, {"position": {"node_id": 15}, "edit": [{"from_length": 6, "to_length": 6}], "rank": 11}, {"position": {"node_id": 16}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 12}, {"position": {"node_id": 18}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 13}, {"position": {"node_id": 19}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 14}, {"position": {"node_id": 21}, "edit": [{"from_length": 3, "to_length": 3}], "rank": 15}, {"position": {"node_id": 23}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 16}, {"position": {"node_id": 24}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 17}, {"position": {"node_id": 25}, "edit": [{"from_length": 5, "to_length": 5}], "rank": 18}, {"position": {"node_id": 26}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 19}, {"position": {"node_id": 28}, "edit": [{"from_length": 26, "to_length": 26}], "rank": 20}, {"position": {"node_id": 29}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 21}, {"position": {"node_id": 30}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 22}, {"position": {"node_id": 32}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 23}, {"position": {"node_id": 33}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 24}, {"position": {"node_id": 34}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 25}, {"position": {"node_id": 35}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 26}, {"position": {"node_id": 36}, "edit": [{"from_length": 8, "to_length": 8}], "rank": 27}, {"position": {"node_id": 37}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 28}, {"position": {"node_id": 39}, "edit": [{"from_length": 23, "to_length": 23}], "rank": 29}, {"position": {"node_id": 40}, "edit": [{"from_length": 7, "to_length": 7}], "rank": 30}]}, "score": 358, "identity": 1.0}',n.read4='{"sequence": "GGTACCCACTCCATAAGGTATTTCAGCACCGCCGTGTCCCGGCCGGGTCGCGGGGAGCCCCGGTACATCGCAGTGGGCTACGTGGACGACACGCAGTTCGTGCGGTTCGACAGCGACGCGGCGACTCCGAGGATGTAGCCGCAGGCGCCGTGGTTGGAGCAGGAGGGACCGGAGTATTGGGACCGGAGCACACGGAACATCAGGCCCGCGCACAGACTGACAAGAGTGAACCTGCCCATGCCGCGCCGCTACTACCACCAGAGCTAGGCCGGTGAATGACCCCGGCCTGGGGCGAAGGTCACGACCCCTCCTCATCCCCCACGGACGTCCCGGGTCCCCCCCGCGAGTCTCCGGCTCC", "path": {"mapping": [{"position": {"offset": 1, "node_id": 2}, "edit": [{"from_length": 3, "to_length": 3}], "rank": 1}, {"position": {"node_id": 4}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 2}, {"position": {"node_id": 5}, "edit": [{"from_length": 16, "to_length": 16}], "rank": 3}, {"position": {"node_id": 7}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 4}, {"position": {"node_id": 8}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 5}, {"position": {"node_id": 9}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 6}, {"position": {"node_id": 10}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 7}, {"position": {"node_id": 12}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 8}, {"position": {"node_id": 13}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 9}, {"position": {"node_id": 14}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 10}, {"position": {"node_id": 15}, "edit": [{"from_length": 6, "to_length": 6}], "rank": 11}, {"position": {"node_id": 16}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 12}, {"position": {"node_id": 18}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 13}, {"position": {"node_id": 19}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 14}, {"position": {"node_id": 21}, "edit": [{"from_length": 3, "to_length": 3}], "rank": 15}, {"position": {"node_id": 23}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 16}, {"position": {"node_id": 24}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 17}, {"position": {"node_id": 25}, "edit": [{"from_length": 5, "to_length": 5}], "rank": 18}, {"position": {"node_id": 26}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 19}, {"position": {"node_id": 28}, "edit": [{"from_length": 26, "to_length": 26}], "rank": 20}, {"position": {"node_id": 29}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 21}, {"position": {"node_id": 30}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 22}, {"position": {"node_id": 32}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 23}, {"position": {"node_id": 33}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 24}, {"position": {"node_id": 34}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 25}, {"position": {"node_id": 35}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 26}, {"position": {"node_id": 36}, "edit": [{"from_length": 8, "to_length": 8}], "rank": 27}, {"position": {"node_id": 37}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 28}, {"position": {"node_id": 39}, "edit": [{"from_length": 23, "to_length": 23}], "rank": 29}, {"position": {"node_id": 40}, "edit": [{"from_length": 7, "to_length": 7}], "rank": 30}]}, "score": 358, "identity": 1.0}',n.read5='{"sequence": "GGTTCCCACTCCATAAGGTAGTTCAGCACCGCCGTGTCCCGGCCGGGTCGCGGGGAGCCCCGGTACATCGCAGTGGGCTACGTGGACGACACGCAGTTCGTGCGGTTCGACAGCGACGCGGCGACTCCGAGGATGTAGCCGCAGGCGCCGTGGTTGGAGCAGGAGGGACCGGAGTATTGGGACCGGAGCACACGGAACATCAGGCCCGCGCACAGACTGACAAGAGTGAACCTGCCCATGCCGCGCCGCTACTACCACCAGAGCTAGGCCGGTGAATGACCCCGGCCTGGGGCGAAGGTCACGACCCCTCCTCATCCCCCACGGACGCCCCGGGTCCCCCCCGCGAGTCTCCGGCTCC", "path": {"mapping": [{"position": {"node_id": 3}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 2}, {"position": {"node_id": 5}, "edit": [{"from_length": 16, "to_length": 16}], "rank": 3}, {"position": {"node_id": 6}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 4}, {"position": {"node_id": 8}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 5}, {"position": {"node_id": 9}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 6}, {"position": {"node_id": 10}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 7}, {"position": {"node_id": 12}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 8}, {"position": {"node_id": 13}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 9}, {"position": {"node_id": 14}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 10}, {"position": {"node_id": 15}, "edit": [{"from_length": 6, "to_length": 6}], "rank": 11}, {"position": {"node_id": 16}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 12}, {"position": {"node_id": 18}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 13}, {"position": {"node_id": 19}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 14}, {"position": {"node_id": 21}, "edit": [{"from_length": 3, "to_length": 3}], "rank": 15}, {"position": {"node_id": 23}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 16}, {"position": {"node_id": 24}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 17}, {"position": {"node_id": 25}, "edit": [{"from_length": 5, "to_length": 5}], "rank": 18}, {"position": {"node_id": 26}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 19}, {"position": {"node_id": 28}, "edit": [{"from_length": 26, "to_length": 26}], "rank": 20}, {"position": {"node_id": 29}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 21}, {"position": {"node_id": 30}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 22}, {"position": {"node_id": 32}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 23}, {"position": {"node_id": 33}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 24}, {"position": {"node_id": 34}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 25}, {"position": {"node_id": 35}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 26}, {"position": {"node_id": 36}, "edit": [{"from_length": 8, "to_length": 8}], "rank": 27}, {"position": {"node_id": 38}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 28}, {"position": {"node_id": 39}, "edit": [{"from_length": 23, "to_length": 23}], "rank": 29}, {"position": {"node_id": 40}, "edit": [{"from_length": 7, "to_length": 7}], "rank": 30}]}, "score": 358, "identity": 1.0}',n.demoReads='\n{"sequence": "AGGTTCCCACTCCATAAGGTAGTTCAGCACCGCC", "path": {"name": "read 1", "mapping": [{"position": {"node_id": 2}, "rank": 1, "edit": [{"from_length": 4, "to_length": 4}]},    {"position": {"node_id": 3}, "rank": 2, "edit": [{"from_length": 1, "to_length": 1}]}, {"position": {"node_id": 5}, "rank": 3, "edit": [{"from_length": 16, "to_length": 16}]},     {"position": {"node_id": 6}, "rank": 4, "edit": [{"from_length": 1, "to_length": 1}]}, {"position": {"node_id": 8}, "rank": 5, "edit": [{"from_length": 10, "to_length": 10}]}, {"position": {"node_id": 9}, "rank": 6, "edit": [{"from_length": 5, "to_length": 5}]}]}, "score": 57, "identity": 1.0 }\n{"sequence": "CCGGCCGGGTCGCGGGGAGCCCGGTACATCGCAGTGGGCTACGTGGACGA", "path": {"mapping": [{"rank": 1, "edit": [{"from_length": 22, "to_length": 22}], "position": {"offset": 7, "node_id": 9}}, {"rank": 3, "edit": [{"from_length": 2, "to_length": 2}], "position": {"node_id": 12}}, {"rank": 4, "edit": [{"from_length": 26, "to_length": 26}], "position": {"node_id": 13}}]}, "score": 51, "identity": 1.0}\n{"sequence": "GGTTCCCACTCCATAAGGTAGTTCAGCACCGCCGTGTCCCGGCCGGGTCGCGGGGAGCCCCGGTACATCGCAGTGGGCTACGTGGACGACACGCAGTTCGTGCGGTTCGACAGCGACGCGGCGACTCCGAGGATGTAGCCGCAGGCGCCGTGGTTGGAGCAGGAGGGACCGGAGTATTGGGACCGGAGCACACGGAACATCAGGCCCGCGCACAGACTGACAAGAGTGAACCTGCCCATGCCGCGCCGCTACTACCACCAGAGCTAGGCCGGTGAATGACCCCGGCCTGGGGCGAAGGTCACGACCCCTCCTCATCCCCCACGGACGTCCCGGGTCCCCCCCGCGAGTCTCCGGCTCC", "path": {"mapping": [{"position": {"node_id": 2, "offset": 1}, "edit": [{"from_length": 3, "to_length": 3}], "rank": 1}, {"position": {"node_id": 3}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 2}, {"position": {"node_id": 5}, "edit": [{"from_length": 16, "to_length": 16}], "rank": 3}, {"position": {"node_id": 6}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 4}, {"position": {"node_id": 8}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 5}, {"position": {"node_id": 9}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 6}, {"position": {"node_id": 10}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 7}, {"position": {"node_id": 12}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 8}, {"position": {"node_id": 13}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 9}, {"position": {"node_id": 14}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 10}, {"position": {"node_id": 15}, "edit": [{"from_length": 6, "to_length": 6}], "rank": 11}, {"position": {"node_id": 16}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 12}, {"position": {"node_id": 18}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 13}, {"position": {"node_id": 19}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 14}, {"position": {"node_id": 21}, "edit": [{"from_length": 3, "to_length": 3}], "rank": 15}, {"position": {"node_id": 23}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 16}, {"position": {"node_id": 24}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 17}, {"position": {"node_id": 25}, "edit": [{"from_length": 5, "to_length": 5}], "rank": 18}, {"position": {"node_id": 26}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 19}, {"position": {"node_id": 28}, "edit": [{"from_length": 26, "to_length": 26}], "rank": 20}, {"position": {"node_id": 29}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 21}, {"position": {"node_id": 30}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 22}, {"position": {"node_id": 32}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 23}, {"position": {"node_id": 33}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 24}, {"position": {"node_id": 34}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 25}, {"position": {"node_id": 35}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 26}, {"position": {"node_id": 36}, "edit": [{"from_length": 8, "to_length": 8}], "rank": 27}, {"position": {"node_id": 37}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 28}, {"position": {"node_id": 39}, "edit": [{"from_length": 23, "to_length": 23}], "rank": 29}, {"position": {"node_id": 40}, "edit": [{"from_length": 7, "to_length": 7}], "rank": 30}]}, "score": 358, "identity": 1.0}\n{"sequence": "GGTACCCACTCCATAAGGTATTCAGCACCGCCGTGTCCCGGCCGGGTCGCGGGGAGCCCCGGTACATCGCAGTGGGCTACGTGGACGACACGCAGTTCGTGCGGTTCGACAGCGACGCGGCGACTCCGAGGATGTAGCCGCAGGCGCCGTGGTTGGAGCAGGAGGGACCGGAGTATTGGGACCGGAGCACACGGAACATCAGGCCCGCGCACAGACTGACAAGAGTGAACCTGCCCATGCCGCGCCGCTACTACCACCAGAGCTAGGCCGGTGAATGACCCCGGCCTGGGGCGAAGGTCACGACCCCTCCTCATCCCCCACGGACGTCCCGGGTCCCCCCCGCGAGTCTCCGGCTCC", "path": {"mapping": [{"position": {"offset": 1, "node_id": 2}, "edit": [{"from_length": 3, "to_length": 3}], "rank": 1}, {"position": {"node_id": 4}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 2}, {"position": {"node_id": 5}, "edit": [{"from_length": 16, "to_length": 16}], "rank": 3}, {"position": {"node_id": 8}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 5}, {"position": {"node_id": 9}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 6}, {"position": {"node_id": 10}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 7}, {"position": {"node_id": 12}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 8}, {"position": {"node_id": 13}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 9}, {"position": {"node_id": 14}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 10}, {"position": {"node_id": 15}, "edit": [{"from_length": 6, "to_length": 6}], "rank": 11}, {"position": {"node_id": 16}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 12}, {"position": {"node_id": 18}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 13}, {"position": {"node_id": 19}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 14}, {"position": {"node_id": 21}, "edit": [{"from_length": 3, "to_length": 3}], "rank": 15}, {"position": {"node_id": 23}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 16}, {"position": {"node_id": 24}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 17}, {"position": {"node_id": 25}, "edit": [{"from_length": 5, "to_length": 5}], "rank": 18}, {"position": {"node_id": 26}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 19}, {"position": {"node_id": 28}, "edit": [{"from_length": 26, "to_length": 26}], "rank": 20}, {"position": {"node_id": 29}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 21}, {"position": {"node_id": 30}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 22}, {"position": {"node_id": 32}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 23}, {"position": {"node_id": 33}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 24}, {"position": {"node_id": 34}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 25}, {"position": {"node_id": 35}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 26}, {"position": {"node_id": 36}, "edit": [{"from_length": 8, "to_length": 8}], "rank": 27}, {"position": {"node_id": 37}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 28}, {"position": {"node_id": 39}, "edit": [{"from_length": 23, "to_length": 23}], "rank": 29}, {"position": {"node_id": 40}, "edit": [{"from_length": 7, "to_length": 7}], "rank": 30}]}, "score": 358, "identity": 1.0}\n{"sequence": "GGTTCCCACTCCATAAGGTAGTTCAGCACCGCCGTGTCCCGGCCGGGTCGCGGGGAGCCCCGGTACATCGCAGTGGGCTACGTGGACGACACGCAGTTCGTGCGGTTCGACAGCGACGCGGCGACTCCGAGGATGTAGCCGCAGGCGCCGTGGTTGGAGCAGGAGGGACCGGAGTATTGGGACCGGAGCACACGGAACATCAGGCCCGCGCACAGACTGACAAGAGTGAACCTGCCCATGCCGCGCCGCTACTACCACCAGAGCTAGGCCGGTGAATGACCCCGGCCTGGGGCGAAGGTCACGACCCCTCCTCATCCCCCACGGACGCCCCGGGTCCCCCCCGCGAGTCTCCGGCTCC", "path": {"mapping": [{"position": {"node_id": 3}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 2}, {"position": {"node_id": 5}, "edit": [{"from_length": 16, "to_length": 16}], "rank": 3}, {"position": {"node_id": 6}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 4}, {"position": {"node_id": 8}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 5}, {"position": {"node_id": 9}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 6}, {"position": {"node_id": 10}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 7}, {"position": {"node_id": 12}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 8}, {"position": {"node_id": 13}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 9}, {"position": {"node_id": 14}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 10}, {"position": {"node_id": 15}, "edit": [{"from_length": 6, "to_length": 6}], "rank": 11}, {"position": {"node_id": 16}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 12}, {"position": {"node_id": 18}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 13}, {"position": {"node_id": 19}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 14}, {"position": {"node_id": 21}, "edit": [{"from_length": 3, "to_length": 3}], "rank": 15}, {"position": {"node_id": 23}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 16}, {"position": {"node_id": 24}, "edit": [{"from_length": 10, "to_length": 10}], "rank": 17}, {"position": {"node_id": 25}, "edit": [{"from_length": 5, "to_length": 5}], "rank": 18}, {"position": {"node_id": 26}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 19}, {"position": {"node_id": 28}, "edit": [{"from_length": 26, "to_length": 26}], "rank": 20}, {"position": {"node_id": 29}, "edit": [{"from_length": 2, "to_length": 2}], "rank": 21}, {"position": {"node_id": 30}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 22}, {"position": {"node_id": 32}, "edit": [{"from_length": 29, "to_length": 29}], "rank": 23}, {"position": {"node_id": 33}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 24}, {"position": {"node_id": 34}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 25}, {"position": {"node_id": 35}, "edit": [{"from_length": 32, "to_length": 32}], "rank": 26}, {"position": {"node_id": 36}, "edit": [{"from_length": 8, "to_length": 8}], "rank": 27}, {"position": {"node_id": 38}, "edit": [{"from_length": 1, "to_length": 1}], "rank": 28}, {"position": {"node_id": 39}, "edit": [{"from_length": 23, "to_length": 23}], "rank": 29}, {"position": {"node_id": 40}, "edit": [{"from_length": 7, "to_length": 7}], "rank": 30}]}, "score": 358, "identity": 1.0}\n',n.demoReads2='\n{"sequence": "AGGTTCCCACTCCATAAGGTAGTTCAGCACCGCC", "path": {"name": "read 1", "mapping": [{"position": {"node_id": 2}, "rank": 1, "edit": [{"from_length": 4, "to_length": 4}]},    {"position": {"node_id": 3}, "rank": 2, "edit": [{"from_length": 1, "to_length": 1}]}, {"position": {"node_id": 5}, "rank": 3, "edit": [{"from_length": 16, "to_length": 16}]},     {"position": {"node_id": 6}, "rank": 4, "edit": [{"from_length": 1, "to_length": 1}]}, {"position": {"node_id": 8}, "rank": 5, "edit": [{"from_length": 10, "to_length": 10}]}, {"position": {"node_id": 9}, "rank": 6, "edit": [{"from_length": 5, "to_length": 5}]}]}, "score": 57, "identity": 1.0 }\n',n.notch2Simpl100Bed=[{track:"Notch2",start:17814,end:18189,type:"exon",name:"exon1"},{track:"Notch2",start:57530,end:57611,type:"exon",name:"exon2"},{track:"Notch2",start:81929,end:82188,type:"exon",name:"exon3"},{track:"Notch2",start:90185,end:90520,type:"exon",name:"exon4"},{track:"Notch2",start:90769,end:95091,type:"exon",name:"exon5"},{track:"Notch2NLA",start:19147,end:19522,type:"exon",name:"exon1"},{track:"Notch2NLA",start:58843,end:58924,type:"exon",name:"exon2"},{track:"Notch2NLA",start:83214,end:83473,type:"exon",name:"exon3"},{track:"Notch2NLA",start:91409,end:91744,type:"exon",name:"exon4"},{track:"Notch2NLA",start:91995,end:96317,type:"exon",name:"exon5"},{track:"Notch2NLB",start:19151,end:19524,type:"exon",name:"exon1"},{track:"Notch2NLB",start:58873,end:58954,type:"exon",name:"exon2"},{track:"Notch2NLB",start:83020,end:83279,type:"exon",name:"exon3"},{track:"Notch2NLB",start:91225,end:91560,type:"exon",name:"exon4"},{track:"Notch2NLB",start:91811,end:96121,type:"exon",name:"exon5"},{track:"Notch2NLC",start:16049,end:16424,type:"exon",name:"exon1"},{track:"Notch2NLC",start:56437,end:56518,type:"exon",name:"exon2"},{track:"Notch2NLC",start:80821,end:81080,type:"exon",name:"exon3"},{track:"Notch2NLC",start:88994,end:89329,type:"exon",name:"exon4"},{track:"Notch2NLC",start:89580,end:93893,type:"exon",name:"exon5"},{track:"Notch2NLD",start:16096,end:16471,type:"exon",name:"exon1"},{track:"Notch2NLD",start:55852,end:55933,type:"exon",name:"exon2"},{track:"Notch2NLD",start:77198,end:77457,type:"exon",name:"exon3"},{track:"Notch2NLD",start:85385,end:85720,type:"exon",name:"exon4"},{track:"Notch2NLD",start:85971,end:90271,type:"exon",name:"exon5"}],n.notch2Simpl1000Bed=[{track:"Notch2",start:18035,end:18167,type:"exon",name:"exon1"},{track:"Notch2",start:57469,end:57550,type:"exon",name:"exon2"},{track:"Notch2",start:81838,end:82097,type:"exon",name:"exon3"},{track:"Notch2",start:90089,end:90424,type:"exon",name:"exon4"},{track:"Notch2",start:90675,end:94985,type:"exon",name:"exon5"},{track:"Notch2NLA",start:19368,end:19500,type:"exon",name:"exon1"},{track:"Notch2NLA",start:58777,end:58858,type:"exon",name:"exon2"},{track:"Notch2NLA",start:83129,end:83388,type:"exon",name:"exon3"},{track:"Notch2NLA",start:91299,end:91634,type:"exon",name:"exon4"},{track:"Notch2NLA",start:91885,end:96195,type:"exon",name:"exon5"},{track:"Notch2NLB",start:19369,end:19501,type:"exon",name:"exon1"},{track:"Notch2NLB",start:58818,end:58899,type:"exon",name:"exon2"},{track:"Notch2NLB",start:82941,end:83200,type:"exon",name:"exon3"},{track:"Notch2NLB",start:91146,end:91481,type:"exon",name:"exon4"},{track:"Notch2NLB",start:91732,end:96042,type:"exon",name:"exon5"},{track:"Notch2NLC",start:16293,end:16425,type:"exon",name:"exon1"},{track:"Notch2NLC",start:56388,end:56469,type:"exon",name:"exon2"},{track:"Notch2NLC",start:80746,end:81005,type:"exon",name:"exon3"},{track:"Notch2NLC",start:88919,end:89254,type:"exon",name:"exon4"},{track:"Notch2NLC",start:89505,end:93818,type:"exon",name:"exon5"},{track:"Notch2NLD",start:16317,end:16449,type:"exon",name:"exon1"},{track:"Notch2NLD",start:55763,end:55844,type:"exon",name:"exon2"},{track:"Notch2NLD",start:77078,end:77337,type:"exon",name:"exon3"},{track:"Notch2NLD",start:85265,end:85600,type:"exon",name:"exon4"},{track:"Notch2NLD",start:85851,end:90161,type:"exon",name:"exon5"}]},{}],2:[function(e,t,n){"use strict";function o(e){if(e&&e.__esModule)return e;var t={};if(null!=e)for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n]);return t.default=e,t}function i(e){var t=e.split("\n"),n=[];return t.forEach(function(e){e.length>0&&n.push(JSON.parse(e))}),n}var r=e("./tubemap"),d=o(r),a=e("./demo-data"),h=o(a);document.getElementById("redundantNodesCheckbox").onclick=function(){!0===document.getElementById("redundantNodesCheckbox").checked?d.setMergeNodesFlag(!0):d.setMergeNodesFlag(!1)},document.getElementById("compressedViewCheckbox").onclick=function(){!0===document.getElementById("compressedViewCheckbox").checked?d.setNodeWidthOption(1):d.setNodeWidthOption(0)},document.getElementById("showReadsCheckbox").onclick=function(){!0===document.getElementById("showReadsCheckbox").checked?d.setShowReadsFlag(!0):d.setShowReadsFlag(!1)},document.getElementById("softClipsCheckbox").onclick=function(){!0===document.getElementById("softClipsCheckbox").checked?d.setSoftClipsFlag(!0):d.setSoftClipsFlag(!1)};for(var s=document.getElementsByClassName("colorRadio"),l=0;l<s.length;l+=1)!function(e){var t=void 0;switch(s[e].name){case"colorsHaplo":t="haplotypeColors";break;case"colorsFwReads":t="forwardReadColors";break;case"colorsRevReads":t="reverseReadColors";break;default:console.log("Could not find track type in color set assignment")}var n=void 0;switch(s[e].value){case"option1":n="plainColors";break;case"option2":n="greys";break;case"option3":n="reds";break;case"option4":n="blues";break;case"option5":n="lightColors";break;default:console.log("Could not find color type in color set assignment")}s[e].onclick=function(){console.log(this),d.setColorSet(t,n)}}(l);document.getElementById("downloadButton").onclick=function(){var e=document.getElementById("svg"),t=(new XMLSerializer).serializeToString(e),n=new Blob([t],{type:"image/svg+xml;charset=utf-8"}),o=URL.createObjectURL(n),i=document.createElement("a");i.href=o,i.download="graph.svg",document.body.appendChild(i),i.click(),document.body.removeChild(i)},document.getElementById("example1").onclick=function(){d.create({svgID:"#svg",nodes:h.inputNodes,tracks:h.inputTracks1,bed:h.bed1}),d.setColorSet("haplotypeColors","plainColors"),document.getElementById("colorsHaplo1").checked=!0},document.getElementById("example2").onclick=function(){$("#example1").removeClass("active"),d.create({svgID:"#svg",nodes:h.inputNodes,tracks:h.inputTracks2,bed:h.bed1}),d.setColorSet("haplotypeColors","plainColors"),document.getElementById("colorsHaplo1").checked=!0},document.getElementById("example3").onclick=function(){$("#example1").removeClass("active"),d.create({svgID:"#svg",nodes:h.inputNodes,tracks:h.inputTracks3,bed:h.bed1}),d.setColorSet("haplotypeColors","plainColors"),document.getElementById("colorsHaplo1").checked=!0},document.getElementById("example4").onclick=function(){$("#example1").removeClass("active"),d.create({svgID:"#svg",nodes:h.inputNodes,tracks:h.inputTracks4,bed:h.bed1}),d.setColorSet("haplotypeColors","plainColors"),document.getElementById("colorsHaplo1").checked=!0},document.getElementById("example5").onclick=function(){$("#example1").removeClass("active"),d.create({svgID:"#svg",nodes:h.inputNodes,tracks:h.inputTracks5,bed:h.bed1}),d.setColorSet("haplotypeColors","plainColors"),document.getElementById("colorsHaplo1").checked=!0},document.getElementById("example6").onclick=function(){$("#example1").removeClass("active");var e=JSON.parse(h.k3138),t=d.vgExtractNodes(e),n=d.vgExtractTracks(e),o=d.vgExtractReads(t,n,i(h.demoReads));d.create({svgID:"#svg",nodes:t,tracks:n,reads:o}),d.setColorSet("haplotypeColors","greys"),document.getElementById("colorsHaplo2").checked=!0},window.onload=function(){document.getElementById("example1").click()}},{"./demo-data":1,"./tubemap":3}],3:[function(e,t,n){"use strict";function o(e){it=e.svgID,rt=d3.select(e.svgID),at=JSON.parse(JSON.stringify(e.nodes)),ht=JSON.parse(JSON.stringify(e.tracks)),st=e.reads||null,Ft=e.bed||null,yt.clickableNodesFlag=e.clickableNodes||!1,yt.hideLegendFlag=e.hideLegend||!1;p();yt.hideLegendFlag||xe()}function i(e){ht.unshift(ht[e]),ht.splice(e+1,1),r(0)}function r(e){var t=void 0,n=void 0,o=[],i=void 0,r=void 0;for(i=ht[e].sequence,t=0;t<i.length;t+=1)"-"===i[t].charAt(0)&&(r=i[t].substr(1),(-1===i.indexOf(r)||i.indexOf(r)>t)&&o.push(i[t].substr(1)));for(t=0;t<ht.length;t+=1)for(i=ht[t].sequence,n=0;n<i.length;n+=1)"-"!==i[n].charAt(0)?-1!==o.indexOf(i[n])&&(i[n]="-"+i[n]):-1!==o.indexOf(i[n].substr(1))&&(i[n]=i[n].substr(1));at.forEach(function(e){-1!==o.indexOf(e.name)&&(e.seq=e.seq.split("").reverse().join(""))})}function d(e){for(var t=0;t<ht.length&&ht[t].id!==e;)t+=1;t<ht.length&&(ht[t].hasOwnProperty("hidden")?ht[t].hidden=!ht[t].hidden:ht[t].hidden=!0),p()}function a(){yt.showExonsFlag=!yt.showExonsFlag,p()}function h(e){yt.mergeNodesFlag!==e&&(yt.mergeNodesFlag=e,rt=d3.select(it),p())}function s(e){yt.showSoftClips!==e&&(yt.showSoftClips=e,rt=d3.select(it),p())}function l(e){yt.showReads!==e&&(yt.showReads=e,rt=d3.select(it),p())}function g(e,t){yt[e]=t;p();yt.hideLegendFlag||xe()}function _(e){0!==e&&1!==e&&2!==e||yt.nodeWidthOption!==e&&(yt.nodeWidthOption=e,void 0!==rt&&(rt=d3.select(it),p()))}function p(){kt=[],Tt=[],xt=[],vt=[],wt=[],mt=[],Gt=[],ut=[],qt=0,Nt=0,Et=0,bt=void 0,rt=d3.select(it),rt.selectAll("*").remove(),lt=JSON.parse(JSON.stringify(at)),gt=JSON.parse(JSON.stringify(ht)),_t=JSON.parse(JSON.stringify(st)),oe();for(var e=gt.length-1;e>=0;e-=1)gt[e].hasOwnProperty("type")||(gt[e].type="haplo"),gt[e].hasOwnProperty("hidden")&&!0===gt[e].hidden&&gt.splice(e,1),gt[e].hasOwnProperty("indexOfFirstBase")&&(bt=gt[e].name);ct=F(),w(gt),_t&&yt.showReads&&w(_t),Oe(),_t&&yt.mergeNodesFlag&&(O(),D(),_t&&yt.showReads&&x(),De(),ct=F(),Oe(),w(gt),_t&&yt.showReads&&w(_t)),pt=lt.length,ft=gt.length,O(),H(),Ve&&console.log(pt+" nodes."),D(),At=I(),te(),U(),!0===yt.showExonsFlag&&null!==Ft&&ee(),W(),_t&&yt.showReads&&(f(),x(),w(_t),C(),gt=gt.concat(_t)),se(),console.log("Tracks:"),console.log(gt),console.log("Nodes:"),console.log(lt),console.log("Lane assignment:"),console.log(mt),N(),E(),ye(),ue(kt),ke(),pe(xt,vt),ue(wt),ue(kt,"read"),ke("read");var t=q(lt);return fe(t),pe(xt,vt,"read"),0===yt.nodeWidthOption&&ce(t),void 0!==bt&&Ce(),0===yt.nodeWidthOption&&Be(),Ve&&(console.log("number of tracks: "+ft),console.log("number of nodes: "+pt)),gt}function f(){Ct=[];for(var e=0;e<=At;e+=1)Ct[e]=[];var t=new Map;lt.forEach(function(e){e.hasOwnProperty("order")&&e.hasOwnProperty("y")&&(t.has(e.order)?t.set(e.order,Math.max(e.y+e.contentHeight,t.get(e.order))):t.set(e.order,e.y+e.contentHeight))}),lt.forEach(function(e,n){e.hasOwnProperty("order")&&!e.hasOwnProperty("y")&&(console.log("adding to "+e.name),e.y=t.get(e.order)+25,e.contentHeight=0,Ct[e.order].push(n))})}function c(){lt.forEach(function(e){e.incomingReads=[],e.outgoingReads=[],e.internalReads=[]}),_t.forEach(function(e,t){e.width=7,1===e.path.length?lt[e.path[0].node].internalReads.push(t):e.path.forEach(function(n,o){0===o?lt[e.path[0].node].outgoingReads.push([t,o]):null!==e.path[o].node&&lt[e.path[o].node].incomingReads.push([t,o])})})}function C(){T(),c();var e=lt.slice();e.sort(j),e.forEach(function(e){e.incomingReads.sort(A);var t=e.y+e.contentHeight,n=new Map;e.incomingReads.forEach(function(o){_t[o[0]].path[o[1]].y=t,m(n,_t[o[0]],o[1],t,e),t+=7});var o=t;e.outgoingReads.sort(u);var i=new Map;t=e.y+e.contentHeight,e.outgoingReads.forEach(function(r){_t[r[0]].path[r[1]].y=t,i.set(t,_t[r[0]].firstNodeOffset),!n.has(t)||n.get(t)+1<_t[r[0]].firstNodeOffset?(t+=7,o=Math.max(o,t)):(n.set(t,0),e.incomingReads.forEach(function(o){var i=_t[o[0]],r=i.path[o[1]];r.y>=t&&(r.y+=7,m(n,i,o[1],r.y,e))}),t+=7,o+=7)}),e.internalReads.sort(y),e.internalReads.forEach(function(r){var d=_t[r];for(t=e.y+e.contentHeight;d.firstNodeOffset<n.get(t)+2||d.finalNodeCoverLength>i.get(t)-3;)t+=7;d.path[0].y=t,n.set(t,d.finalNodeCoverLength),o=Math.max(o,t)});var r=o-e.y-e.contentHeight;e.contentHeight+=r,z(e,r)});var t=k(),n=[];_t.forEach(function(e,t){e.path.forEach(function(e,o){e.hasOwnProperty("y")||n.push({readIndex:t,pathIndex:o,previousY:_t[t].path[o-1].y})})}),n.sort(G),n.forEach(function(e){var n=_t[e.readIndex].path[e.pathIndex];n.y=t[n.order],t[n.order]+=_t[e.readIndex].width}),console.log("Reads:"),console.log(_t)}function m(e,t,n,o,i){
n===t.path.length-1?e.set(o,t.finalNodeCoverLength):e.set(o,i.sequenceLength)}function G(e,t){var n=_t[e.readIndex].path[e.pathIndex],o=_t[t.readIndex].path[t.pathIndex];return n.order===o.order?e.previousY-t.previousY:n.order-o.order}function u(e,t){for(var n=e[1],o=t[1],i=lt[_t[e[0]].path[n].node],r=lt[_t[t[0]].path[o].node];null!==i&&null!==r&&i===r;){if(n<_t[e[0]].path.length-1){for(n+=1;null===_t[e[0]].path[n].node;)n+=1;i=lt[_t[e[0]].path[n].node]}else i=null;if(o<_t[t[0]].path.length-1){for(o+=1;null===_t[t[0]].path[o].node;)o+=1;r=lt[_t[t[0]].path[o].node]}else r=null}if(null!==i)return null!==r?j(i,r):1;if(null!==r)return-1;var d=_t[e[0]].firstNodeOffset-_t[t[0]].firstNodeOffset;return 0!==d?d:_t[e[0]].finalNodeCoverLength-_t[t[0]].finalNodeCoverLength}function A(e,t){var n=_t[e[0]].path[e[1]-1],o=_t[t[0]].path[t[1]-1];return n.hasOwnProperty("y")?o.hasOwnProperty("y")?n.y-o.y:-1:o.hasOwnProperty("y")?1:A([e[0],e[1]-1],[t[0],t[1]-1])}function y(e,t){var n=_t[e],o=_t[t];return n.firstNodeOffset<o.firstNodeOffset?-1:n.firstNodeOffset>o.firstNodeOffset?1:n.finalNodeCoverLength<o.finalNodeCoverLength?-1:n.finalNodeCoverLength>o.finalNodeCoverLength?1:0}function k(){for(var e=[],t=0;t<=At;t+=1)e.push(0);return lt.forEach(function(t){e[t.order]=Math.max(e[t.order],t.y+t.contentHeight+20)}),gt.forEach(function(t){t.path.forEach(function(n){e[n.order]=Math.max(e[n.order],n.y+t.width)})}),e}function T(){var e=void 0,t=void 0,n=void 0,o=void 0,i=void 0,r=function(e){return((e=+e)||1/e)>=0};_t.forEach(function(d){e=Math.abs(d.indexSequence[0]),t=r(d.indexSequence[0]),n=lt[e],d.path=[],d.path.push({order:n.order,isForward:t,node:e});for(var a=1;a<d.sequence.length;a+=1)if(o=n,i=t,e=Math.abs(d.indexSequence[a]),t=r(d.indexSequence[a]),n=lt[e],n.order>o.order){i||d.path.push({order:o.order,isForward:!0,node:null});for(var h=o.order+1;h<n.order;h+=1)d.path.push({order:h,isForward:!0,node:null});t?d.path.push({order:n.order,isForward:!0,node:e}):(d.path.push({order:n.order,isForward:!0,node:null}),d.path.push({order:n.order,isForward:!1,node:e}))}else if(n.order<o.order){i&&d.path.push({order:o.order,isForward:!1,node:null});for(var s=o.order-1;s>n.order;s-=1)d.path.push({order:s,isForward:!1,node:null});t?(d.path.push({order:n.order,isForward:!1,node:null}),d.path.push({order:n.order,isForward:!0,node:e})):d.path.push({order:n.order,isForward:!1,node:e})}else t!==i?d.path.push({order:n.order,isForward:t,node:e}):(d.path.push({order:n.order,isForward:!t,node:null}),d.path.push({order:n.order,isForward:t,node:e}))})}function x(){_t.forEach(function(e){for(var t=0;t<e.sequence.length&&"-"===e.sequence[t].charAt(0);)t+=1;if(t===e.sequence.length){e.is_reverse=!0,e.sequence=e.sequence.reverse();for(var n=0;n<e.sequence.length;n+=1)e.sequence[n]=e.sequence[n].substr(1);e.sequenceNew=e.sequenceNew.reverse();for(var o=0;o<e.sequenceNew.length;o+=1)!function(t){e.sequenceNew[t].nodeName=e.sequenceNew[t].nodeName.substr(1);var n=lt[ct.get(e.sequenceNew[t].nodeName)].width;e.sequenceNew[t].mismatches.forEach(function(e){"insertion"===e.type?(e.pos=n-e.pos,e.seq=v(e.seq)):"deletion"===e.type?e.pos=n-e.pos-e.length:"substitution"===e.type&&(e.pos=n-e.pos-e.seq.length,e.seq=v(e.seq)),e.hasOwnProperty("seq")&&(e.seq=e.seq.split("").reverse().join(""))})}(o);var i=e.firstNodeOffset,r=lt[ct.get(e.sequence[0])].sequenceLength;e.firstNodeOffset=r-e.finalNodeCoverLength,r=lt[ct.get(e.sequence[e.sequence.length-1])].sequenceLength,e.finalNodeCoverLength=r-i}})}function v(e){for(var t="",n=e.length-1;n>=0;n-=1)switch(e.charAt(n)){case"A":t+="T";break;case"T":t+="A";break;case"C":t+="G";break;case"G":t+="C";break;default:t+="N"}return t}function w(e){e.forEach(function(e){e.indexSequence=[],e.sequence.forEach(function(t){"-"===t.charAt(0)?e.indexSequence.push(-ct.get(t.substr(1))):e.indexSequence.push(ct.get(t))})})}function q(e){var t=e.slice(0),n=void 0;for(n=t.length-1;n>=0;n-=1)t[n].hasOwnProperty("x")||t.splice(n,1);return t}function N(){Et=-99,Nt=99,qt=-99,lt.forEach(function(e){e.hasOwnProperty("x")&&(Et=Math.max(Et,e.x+20+e.pixelWidth)),e.hasOwnProperty("y")&&(Nt=Math.min(Nt,e.y-10),qt=Math.max(qt,e.y+e.contentHeight+10))}),gt.forEach(function(e){e.path.forEach(function(t){qt=Math.max(qt,t.y+e.width),Nt=Math.min(Nt,t.y)})})}function E(){function e(){var e=d3.event.transform;e.y=(25-Nt)*e.k,rt.attr("transform",e);var t=d3.select(it);t.attr("height",(qt-Nt+50)*d3.event.transform.k),t.attr("width",document.getElementById("tubeMapSVG").clientWidth)}rt.attr("height",qt-Nt+50),rt.attr("width",$(it).parent().width()),n.zoom=dt=d3.zoom().scaleExtent([$(it).parent().width()/Et,8]).translateExtent([[-1,Nt-25],[Et+2,qt+25]]).on("zoom",e),rt=rt.call(dt).on("dblclick.zoom",null).append("g"),d3.select(it).call(dt.transform,d3.zoomIdentity.translate(0,25-Nt))}function b(e){var t=$(it).parent().width()/Et,n=document.getElementById(it.substring(1)).parentElement.clientWidth,o=d3.zoomTransform(d3.select(it).node()),i=Math.min(8,Math.max(o.k*e,t)),r=n/2-(n/2-o.x)*i/o.k;r=Math.min(r,1*i),r=Math.max(r,n-(Et+2)*i);var d=(25-Nt)*i;d3.select(it).transition().duration(750).call(dt.transform,d3.zoomIdentity.translate(r,d).scale(i))}function F(){return ct=new Map,lt.forEach(function(e,t){ct.set(e.name,t)}),ct}function O(){var e=void 0,t=void 0;lt.forEach(function(e){e.successors=[],e.predecessors=[]}),gt.forEach(function(n){for(var o=0;o<n.indexSequence.length-1;o+=1)e=Math.abs(n.indexSequence[o]),t=Math.abs(n.indexSequence[o+1]),-1===lt[e].successors.indexOf(t)&&lt[e].successors.push(t),-1===lt[t].predecessors.indexOf(e)&&lt[t].predecessors.push(e)}),_t&&yt.showReads&&_t.forEach(function(n){for(var o=0;o<n.indexSequence.length-1;o+=1)e=Math.abs(n.indexSequence[o]),t=Math.abs(n.indexSequence[o+1]),-1===lt[e].successors.indexOf(t)&&lt[e].successors.push(t),-1===lt[t].predecessors.indexOf(e)&&lt[t].predecessors.push(e)})}function S(e){var t=0,n=0,o=void 0,i=0;e.forEach(function(e){e<0?(o=lt[Math.abs(e)],o.hasOwnProperty("order")||(o.order=n),o.order<i&&(i=o.order),t=o.order,n=o.order-1):(o=lt[e],o.hasOwnProperty("order")||(o.order=t),t=o.order+1,n=o.order)}),i<0&&P(-i)}function L(e){for(var t=0,n=void 0,o=void 0,i=0,r=void 0;t<e.length&&!lt[Math.abs(e[t])].hasOwnProperty("order");)t+=1;if(t>=e.length)return null;e[t]>=0?(n=lt[e[t]].order-1,r=-1):(n=lt[-e[t]].order+1,r=1);for(var d=t-1;d>=0;d-=1)o=lt[Math.abs(e[d])],o.hasOwnProperty("order")||(o.order=n,i=Math.min(i,n),n+=r);return i<0&&P(-i),t}function D(){var e=void 0,t=void 0,n=void 0,o=void 0,i=void 0,r=0,d=void 0;d=_t&&yt.showReads?gt.concat(_t):gt,lt.forEach(function(e){delete e.order}),S(gt[0].indexSequence);for(var a=1;a<d.length;a+=1)if(Ve&&console.log("generating order for track "+(a+1)),null!==(o=L(d[a].indexSequence)))for(e=B(d[a].indexSequence);o<e.length;){for(i=o,o+=1;o<e.length&&!lt[e[o]].hasOwnProperty("order");)o+=1;if(o<e.length){t=lt[e[i]].order+1;for(var h=i+1;h<o;h+=1)lt[e[h]].order=t,t+=1;if(lt[e[o]].order>lt[e[i]].order)lt[e[o]].order<t&&R(e[o],e[o-1],t);else if(d[a].indexSequence[o]>=0&&!M(e[o],e[i]))R(e[o],e[o-1],t);else if(d[a].sequence[i]<0||lt[e[i+1]].degree<2&&lt[e[o]].order<lt[e[i]].order){t=lt[e[i]].order-1;for(var s=i+1;s<o;s+=1)lt[e[s]].order=t,t-=1}}else if(d[a].sequence[i]>=0){t=lt[e[i]].order+1;for(var l=i+1;l<e.length;l+=1)n=lt[e[l]],n.hasOwnProperty("order")||(n.order=t,t+=1)}else{t=lt[e[i]].order-1;for(var g=i+1;g<e.length;g+=1)n=lt[e[g]],n.hasOwnProperty("order")||(n.order=t,r=Math.min(r,t),t-=1)}}else d.splice(a,1),_t.splice(a-gt.length,1),a-=1;r<0&&P(-r)}function M(e,t){var n=new Array(pt).fill(!1),o=[];for(o.push(e),n[e]=!0;o.length>0;){var i=o.pop();if(i===t)return!0;for(var r=0;r<lt[i].successors.length;r+=1){var d=lt[i].successors[r];n[d]||(n[d]=!0,o.push(d))}}return!1}function I(){var e=-1;return lt.forEach(function(t){t.hasOwnProperty("order")&&t.order>e&&(e=t.order)}),e}function B(e){for(var t=[],n=0;n<e.length;n+=1)e[n]>=0?t.push(e[n]):t.push(-e[n]);return t}function P(e){lt.forEach(function(t){t.hasOwnProperty("order")&&(t.order+=e)})}function R(e,t,n){var o=new Map,i=[];i.push([e,n]);for(;i.length>0;)!function(){var n=i.shift(),r=n[0],d=n[1];lt[r].hasOwnProperty("order")&&lt[r].order<d&&(!o.has(r)||o.get(r)<d)&&(o.set(r,d),lt[r].successors.forEach(function(e){lt[e].order>lt[r].order&&e!==t&&i.push([e,d+1])}),r!==e&&lt[r].predecessors.forEach(function(e){lt[e].order>r.order&&e!==t&&i.push([e,d+1])}))}();o.forEach(function(e,t){lt[t].order=e})}function H(){lt.forEach(function(e){e.tracks=[]}),gt.forEach(function(e){e.indexSequence.forEach(function(t){lt[Math.abs(t)].tracks.push(e.id)})}),lt.forEach(function(e){e.hasOwnProperty("tracks")&&(e.degree=e.tracks.length)})}function W(){var e=0,t=20,n=-1,o=lt.slice();o.sort(j);var i=J();o.forEach(function(o){o.hasOwnProperty("order")&&(o.order>n&&(n=o.order,e=t+10*i[o.order]),o.x=e,t=Math.max(t,e+40+o.pixelWidth))})}function J(){for(var e=[],t=[],n=[],o=0;o<=At;o+=1)e.push(0),t.push(0);gt.forEach(function(n){for(var o=1;o<n.path.length;o+=1)n.path[o].order===n.path[o-1].order&&(!0===n.path[o].isForward?e[n.path[o].order]+=1:t[n.path[o].order]+=1)}),n.push(Math.max(0,e[0]-1));for(var i=1;i<=At;i+=1)n.push(Math.max(0,e[i]-1)+Math.max(0,t[i-1]-1));return n}function U(){for(var e=void 0,t=void 0,n=void 0,o=void 0,i=void 0,r=void 0,d=[],a=function(e){return((e=+e)||1/e)>=0},h=0;h<=At;h+=1){mt[h]=[],d[h]=[];for(var s=0;s<ft;s+=1)d[h][s]=null}gt.forEach(function(h,s){t=Math.abs(h.indexSequence[0]),n=a(h.indexSequence[0]),o=lt[t],h.path=[],h.path.push({order:o.order,lane:null,isForward:n,node:t}),Q(o.order,t,s,0,d),e=1;for(var l=1;l<h.sequence.length;l+=1)if(i=o,r=n,t=Math.abs(h.indexSequence[l]),n=a(h.indexSequence[l]),o=lt[t],o.order>i.order){r||(h.path.push({order:i.order,lane:null,isForward:!0,node:null}),Q(i.order,null,s,e,d),e+=1);for(var g=i.order+1;g<o.order;g+=1)h.path.push({order:g,lane:null,isForward:!0,node:null}),Q(g,null,s,e,d),e+=1;n?(h.path.push({order:o.order,lane:null,isForward:!0,node:t}),Q(o.order,t,s,e,d),e+=1):(h.path.push({order:o.order,lane:null,isForward:!0,node:null}),Q(o.order,null,s,e,d),e+=1,h.path.push({order:o.order,lane:null,isForward:!1,node:t}),Q(o.order,t,s,e,d),e+=1)}else if(o.order<i.order){r&&(h.path.push({order:i.order,lane:null,isForward:!1,node:null}),Q(i.order,null,s,e,d),e+=1);for(var _=i.order-1;_>o.order;_-=1)h.path.push({order:_,lane:null,isForward:!1,node:null}),Q(_,null,s,e,d),e+=1;n?(h.path.push({order:o.order,lane:null,isForward:!1,node:null}),Q(o.order,null,s,e,d),e+=1,h.path.push({order:o.order,lane:null,isForward:!0,node:t}),Q(o.order,t,s,e,d),e+=1):(h.path.push({order:o.order,lane:null,isForward:!1,node:t}),Q(o.order,t,s,e,d),e+=1)}else n!==r?(h.path.push({order:o.order,lane:null,isForward:n,node:t}),Q(o.order,t,s,e,d),e+=1):(h.path.push({order:o.order,lane:null,isForward:!n,node:null}),Q(o.order,null,s,e,d),e+=1,h.path.push({order:o.order,lane:null,isForward:n,node:t}),Q(o.order,t,s,e,d),e+=1)});for(var l=0;l<=At;l+=1)Z(mt[l],l)}function Q(e,t,n,o,i){var r=i[e][n];if(null===t)mt[e].push({type:"single",node:null,tracks:[{trackID:n,segmentID:o,compareToFromSame:r}]}),i[e][n]=mt[e][mt[e].length-1].tracks[0];else{for(var d=0;d<mt[e].length;d+=1)if(mt[e][d].node===t)return mt[e][d].type="multiple",mt[e][d].tracks.push({trackID:n,segmentID:o,compareToFromSame:r}),void(i[e][n]=mt[e][d].tracks[mt[e][d].tracks.length-1]);mt[e].push({type:"single",node:t,tracks:[{trackID:n,segmentID:o,compareToFromSame:r}]}),i[e][n]=mt[e][mt[e].length-1].tracks[0]}}function Y(e,t){var n=void 0;e.forEach(function(e){e.idealLane=0,e.tracks.forEach(function(o){if(0===o.segmentID)o.idealLane=o.trackID,o.idealY=null;else if(gt[o.trackID].path[o.segmentID-1].order===t-1)o.idealLane=gt[o.trackID].path[o.segmentID-1].lane,o.idealY=gt[o.trackID].path[o.segmentID-1].y;else if(o.segmentID<gt[o.trackID].path.length-1&&gt[o.trackID].path[o.segmentID+1].order===t-1)o.idealLane=gt[o.trackID].path[o.segmentID+1].lane,o.idealY=gt[o.trackID].path[o.segmentID+1].y;else{for(n=o.segmentID-1;n>=0&&gt[o.trackID].path[n].order!==t-1;)n-=1;n<0?(o.idealLane=o.trackID,o.idealY=null):(o.idealLane=gt[o.trackID].path[n].lane,o.idealY=gt[o.trackID].path[n].y)}e.idealLane+=o.idealLane}),e.idealLane/=e.tracks.length})}function Z(e,t){var n=0,o=new Set,i=20,r=!1,d=-1;Y(e,t),e.sort(X),e.forEach(function(e){null!==e.node?(lt[e.node].topLane=n,r&&(i-=10),lt[e.node].y=i,lt[e.node].contentHeight=0,r=!1):(r?i-=25:i>20&&(i-=10),r=!0),e.tracks.sort(X),e.tracks.forEach(function(t){t.lane=n,t.trackID===d&&null===e.node&&r&&(i+=10),gt[t.trackID].path[t.segmentID].lane=n,gt[t.trackID].path[t.segmentID].y=i,null!==t.idealY&&o.add(t.idealY-i),n+=1,i+=gt[t.trackID].width,null!==e.node&&(lt[e.node].contentHeight+=gt[t.trackID].width),d=t.trackID}),i+=25}),V(e,o)}function V(e,t){var n=0,o=Number.MAX_SAFE_INTEGER;t.forEach(function(t){K(e,t)<o&&(o=K(e,t),n=t)}),e.forEach(function(e){null!==e.node&&(lt[e.node].y+=n),e.tracks.forEach(function(e){gt[e.trackID].path[e.segmentID].y+=n})})}function z(e,t){e.hasOwnProperty("order")&&(mt[e.order].forEach(function(n){if(null!==n.node){var o=lt[n.node];o!==e&&o.y>e.y&&(o.y+=t,n.tracks.forEach(function(e){gt[e.trackID].path[e.segmentID].y+=t}))}else n.tracks.forEach(function(n){gt[n.trackID].path[n.segmentID].y>=e.y&&(gt[n.trackID].path[n.segmentID].y+=t)})}),Ct[e.order].length>0&&Ct[e.order].forEach(function(n){lt[n]!==e&&lt[n].y>e.y&&(lt[n].y+=t)}))}function K(e,t){var n=0;return e.forEach(function(e){e.tracks.forEach(function(e){null!==e.idealY&&"read"!==gt[e.trackID].type&&(n+=Math.abs(e.idealY-t-gt[e.trackID].path[e.segmentID].y)*gt[e.trackID].width)})}),n}function X(e,t){return e.hasOwnProperty("idealLane")?t.hasOwnProperty("idealLane")?e.idealLane<t.idealLane?-1:e.idealLane>t.idealLane?1:0:-1:t.hasOwnProperty("idealLane")?1:0}function j(e,t){if(null===e)return null===t?0:-1;if(null===t)return 1;if(e.hasOwnProperty("order")){if(t.hasOwnProperty("order")){if(e.order<t.order)return-1;if(e.order>t.order)return 1;if(e.hasOwnProperty("y")&&t.hasOwnProperty("y")){if(e.y<t.y)return-1;if(e.y>t.y)return 1}return 0}return-1}return t.hasOwnProperty("order")?1:0}function ee(){var e=void 0,t=void 0,n={};Ft.forEach(function(o){for(var i=0;i<ft&&gt[i].name!==o.track;)i+=1;i<ft&&(e=0,gt[i].path.forEach(function(i){null!==i.node&&(n={},t=lt[i.node].hasOwnProperty("sequenceLength")?e+lt[i.node].sequenceLength-1:e+lt[i.node].width-1,e>=o.start&&e<=o.end&&(n.start=0),e<o.start&&t>=o.start&&(n.start=o.start-e),t<=o.end&&t>=o.start&&(n.end=t-e,t<o.end&&(n.continue=!0)),t>o.end&&e<=o.end&&(n.end=o.end-e),n.hasOwnProperty("start")&&(n.type=o.type,n.name=o.name,i.hasOwnProperty("features")||(i.features=[]),i.features.push(n)),e=t+1)}))})}function te(){var e=!0;gt.forEach(function(t){t.hasOwnProperty("freq")?t.width=Math.round(4*(Math.log(t.freq)+1)):(t.width=15,t.hasOwnProperty("type")&&"read"===t.type&&(t.width=4)),4!==t.width&&(e=!1)}),e&&gt.forEach(function(e){e.hasOwnProperty("freq")&&(e.width=15)})}function ne(e){yt.colorScheme=e,rt=d3.select(it);p();yt.hideLegendFlag||xe()}function oe(){et=ie(yt.haplotypeColors),tt=ie(yt.forwardReadColors),nt=ie(yt.reverseReadColors),ot=ie(yt.exonColors)}function ie(e){switch(e){case"plainColors":return $e;case"reds":return Xe;case"blues":return Ke;case"greys":return ze;case"lightColors":return je;default:return ze}}function re(e,t){void 0===t&&(t="plain");return e.hasOwnProperty("type")&&"read"===e.type?e.hasOwnProperty("is_reverse")&&!0===e.is_reverse?nt[e.id%nt.length]:tt[e.id%tt.length]:!1===yt.showExonsFlag||"plain"!==t?et[e.id%et.length]:ot[e.id%ot.length]}function de(e){var t=lt[e.path[0].node];return e.path[0].isForward?he(t,e.firstNodeOffset):he(t,t.sequenceLength-e.firstNodeOffset)}function ae(e){var t=lt[e.path[e.path.length-1].node];return e.path[e.path.length-1].isForward?he(t,e.finalNodeCoverLength):he(t,t.sequenceLength-e.finalNodeCoverLength)}function he(e,t){if(t>e.sequenceLength)return null;var n=e.x-4,o=e.x+e.pixelWidth+4;return n+t/e.sequenceLength*(o-n)}function se(){for(var e=void 0,t=void 0,n=void 0,o=void 0,i=void 0,r=void 0,d=void 0,a=void 0,h=0;h<=At;h+=1)Gt.push(0),ut.push(0);var s=[],l=[];lt.forEach(function(e){e.hasOwnProperty("order")&&(s[e.order]=e.x,void 0===l[e.order]?l[e.order]=e.x+e.pixelWidth:l[e.order]=Math.max(l[e.order],e.x+e.pixelWidth))}),gt.forEach(function(h){r="plain",i=re(h,r),n=h.path[0].y,e="read"!==h.type?"-"===h.sequence[0].charAt(0)?l[h.path[0].order]+20:s[h.path[0].order]-20:de(h);for(var g=0;g<h.path.length;g+=1)h.path[g].y===n?h.path[g].hasOwnProperty("features")&&(a=g>0&&h.path[g-1].order===h.path[g].order,d=le(h.path[g],s[h.path[g].order],l[h.path[g].order],r,h,e,n,i,a),r=d.highlight,e=d.xStart):(t=h.path[g-1].isForward?l[h.path[g-1].order]:s[h.path[g-1].order],t!==e&&(i=re(h,r),kt.push({xStart:Math.min(e,t),yStart:n,xEnd:Math.max(e,t),yEnd:n+h.width-1,color:i,id:h.id,type:h.type})),h.path[g].order-1===h.path[g-1].order?(e=t,t=s[h.path[g].order],o=h.path[g].y,i=re(h,r),Tt.push({xStart:e,yStart:n,xEnd:t+1,yEnd:o,width:h.width,color:i,laneChange:Math.abs(h.path[g].lane-h.path[g-1].lane),id:h.id,type:h.type}),e=t,n=o):h.path[g].order+1===h.path[g-1].order?(e=t,t=l[h.path[g].order],o=h.path[g].y,i=re(h,r),Tt.push({xStart:e+1,yStart:n,xEnd:t,yEnd:o,width:h.width,color:i,laneChange:Math.abs(h.path[g].lane-h.path[g-1].lane),id:h.id,type:h.type}),e=t,n=o):h.path[g-1].isForward?(o=h.path[g].y,ge(t,n,o,h.width,i,h.id,h.path[g].order,h.type),e=l[h.path[g].order],n=h.path[g].y):(o=h.path[g].y,_e(t,n,o,h.width,i,h.id,h.path[g].order,h.type),e=s[h.path[g].order],n=h.path[g].y),h.path[g].hasOwnProperty("features")&&(a=h.path[g-1].order===h.path[g].order,d=le(h.path[g],s[h.path[g].order],l[h.path[g].order],r,h,e,n,i,a),r=d.highlight,e=d.xStart));t="read"!==h.type?h.path[h.path.length-1].isForward?l[h.path[h.path.length-1].order]+20:s[h.path[h.path.length-1].order]-20:ae(h),kt.push({xStart:Math.min(e,t),yStart:n,xEnd:Math.max(e,t),yEnd:n+h.width-1,color:i,id:h.id,type:h.type})})}function le(e,t,n,o,i,r,d,a,h){var s=void 0,l=o,g=void 0,_=void 0,p=void 0,f=void 0;return t-=8,n+=8,s=lt[e.node].hasOwnProperty("sequenceLength")?lt[e.node].sequenceLength:lt[e.node].width,e.features.sort(function(e,t){return e.start-t.start}),e.features.forEach(function(o){l!==o.type&&(g=re(i,l),!0===e.isForward?(p=t+Math.round(o.start*(n-t+1)/s),h&&p<t+8&&(f=t+Math.round((o.end+1)*(n-t+1)/s)-1,_=re(i,o.type),wt.push({xStart:p,yStart:d,xEnd:f,yEnd:d+i.width-1,color:_,id:i.id,type:i.type})),p>r+1&&wt.push({xStart:r,yStart:d,xEnd:p-1,yEnd:d+i.width-1,color:g,id:i.id,type:i.type})):(p=n-Math.round(o.start*(n-t+1)/s),h&&p>n-8&&(f=n-Math.round((o.end+1)*(n-t+1)/s)-1,_=re(i,o.type),wt.push({xStart:f,yStart:d,xEnd:p,yEnd:d+i.width-1,color:_,id:i.id,type:i.type})),r>p+1&&wt.push({xStart:p+1,yStart:d,xEnd:r,yEnd:d+i.width-1,color:g,id:i.id,type:i.type})),r=p,l=o.type),(o.end<s-1||!o.hasOwnProperty("continue"))&&(g=re(i,l),!0===e.isForward?(f=t+Math.round((o.end+1)*(n-t+1)/s)-1,wt.push({xStart:r,yStart:d,xEnd:f,yEnd:d+i.width-1,color:g,id:i.id,type:i.type})):(f=n-Math.round((o.end+1)*(n-t+1)/s)-1,wt.push({xStart:f,yStart:d,xEnd:r,yEnd:d+i.width-1,color:g,id:i.id,type:i.type})),r=f+1,l="plain")}),{xStart:r,highlight:l}}function ge(e,t,n,o,i,r,d,a){e+=10*ut[d];var h=Math.min(t,n),s=Math.max(t,n);vt.push({xStart:e-10*ut[d],yStart:t,xEnd:e+5,yEnd:t+o-1,color:i,id:r,type:a}),vt.push({xStart:e+5+7,yStart:h+o+7-1,xEnd:e+5+7+Math.min(7,o)-1,yEnd:s-7+1,color:i,id:r,type:a}),vt.push({xStart:e-10*ut[d],yStart:n,xEnd:e+5,yEnd:n+o-1,color:i,id:r,type:a});var l="M "+(e+5)+" "+s;l+=" Q "+(e+5+7)+" "+s+" "+(e+5+7)+" "+(s-7),l+=" H "+(e+5+7+Math.min(7,o)),l+=" Q "+(e+5+7+Math.min(7,o))+" "+(s+o)+" "+(e+5)+" "+(s+o),l+=" Z ",xt.push({path:l,color:i,id:r,type:a}),l="M "+(e+5)+" "+h,l+=" Q "+(e+5+7+Math.min(7,o))+" "+h+" "+(e+5+7+Math.min(7,o))+" "+(h+o+7),l+=" H "+(e+5+7),l+=" Q "+(e+5+7)+" "+(h+o)+" "+(e+5)+" "+(h+o),l+=" Z ",xt.push({path:l,color:i,id:r,type:a}),ut[d]+=1}function _e(e,t,n,o,i,r,d,a){var h=Math.min(t,n),s=Math.max(t,n);e-=10*Gt[d],vt.push({xStart:e-6,yStart:t,xEnd:e+10*Gt[d],yEnd:t+o-1,color:i,id:r,type:a}),vt.push({xStart:e-5-7-Math.min(7,o),yStart:h+o+7-1,xEnd:e-5-7-1,yEnd:s-7+1,color:i,id:r,type:a}),vt.push({xStart:e-6,yStart:n,xEnd:e+10*Gt[d],yEnd:n+o-1,color:i,id:r,type:a});var l="M "+(e-5)+" "+s;l+=" Q "+(e-5-7)+" "+s+" "+(e-5-7)+" "+(s-7),l+=" H "+(e-5-7-Math.min(7,o)),l+=" Q "+(e-5-7-Math.min(7,o))+" "+(s+o)+" "+(e-5)+" "+(s+o),l+=" Z ",xt.push({path:l,color:i,id:r,type:a}),l="M "+(e-5)+" "+h,l+=" Q "+(e-5-7-Math.min(7,o))+" "+h+" "+(e-5-7-Math.min(7,o))+" "+(h+o+7),l+=" H "+(e-5-7),l+=" Q "+(e-5-7)+" "+(h+o)+" "+(e-5)+" "+(h+o),l+=" Z ",xt.push({path:l,color:i,id:r,type:a}),Gt[d]+=1}function pe(e,t,n){void 0===n&&(n="haplo");var o=new Set;t.forEach(function(e){o.add(e.color)}),o.forEach(function(o){ue(t.filter(Ge("color",o)),n),Te(e.filter(Ge("color",o)),n)})}function fe(e){var t=void 0,n=void 0;e.forEach(function(e){e.d="M "+(e.x-9)+" "+e.y+" Q "+(e.x-9)+" "+(e.y-9)+" "+e.x+" "+(e.y-9),t=e.x,n=e.y-9,e.width>1&&(t+=e.pixelWidth,e.d+=" L "+t+" "+n),e.d+=" Q "+(t+9)+" "+n+" "+(t+9)+" "+(n+9),t+=9,n+=9,e.contentHeight>0&&(n+=e.contentHeight-0,e.d+=" L "+t+" "+n),e.d+=" Q "+t+" "+(n+9)+" "+(t-9)+" "+(n+9),t-=9,n+=9,e.width>1&&(t-=e.pixelWidth,e.d+=" L "+t+" "+n),e.d+=" Q "+(t-9)+" "+n+" "+(t-9)+" "+(n-9),t-=9,n-=9,e.contentHeight>0&&(n-=e.contentHeight-0,e.d+=" L "+t+" "+n)}),rt.selectAll(".node").data(e).enter().append("path").attr("id",function(e){return e.name}).attr("d",function(e){return e.d}).on("mouseover",we).on("mouseout",Ne).on("dblclick",be).style("fill","#fff").style("fill-opacity",yt.showExonsFlag?"0.4":"0.6").style("stroke","black").style("stroke-width","2px").append("svg:title").text(function(e){return e.name})}function ce(e){0===yt.nodeWidthOption&&rt.selectAll("text").data(e).enter().append("text").attr("x",function(e){return e.x-4}).attr("y",function(e){return e.y+4}).text(function(e){return e.seq}).attr("font-family",'Courier, "Lucida Console", monospace').attr("font-size","14px").attr("fill","black").style("pointer-events","none")}function Ce(){for(var e=0;gt[e].name!==bt;)e+=1;var t=gt[e];rt.append("line").attr("x1",0).attr("y1",Nt-10).attr("x2",Et).attr("y2",Nt-10).attr("stroke-width",1).attr("stroke","black");var n=100;0===yt.nodeWidthOption&&(n=20);var o=t.indexOfFirstBase,i=!1,r=-100;if(0!==yt.nodeWidthOption){var d=lt[t.indexSequence[0]];r=he(d,0),me(o,r),i=!0}t.indexSequence.forEach(function(e){for(var t=lt[e],d=Math.ceil(o/n)*n;d<o+t.sequenceLength;){var a=he(t,d-o);r+80<=a&&(me(d,a),i=!0,r=a),d+=n}o+=lt[e].sequenceLength}),i||me(t.indexOfFirstBase,lt[t.indexSequence[0]].x-4)}function me(e,t){rt.append("text").attr("x",t).attr("y",Nt-13).text("|"+e).attr("font-family",'Courier, "Lucida Console", monospace').attr("font-size","12px").attr("fill","black").style("pointer-events","none")}function Ge(e,t){return function(n){return n[e]===t}}function ue(e,t){void 0===t&&(t="haplo"),e=e.filter(Ge("type",t)),rt.selectAll("trackRectangles").data(e).enter().append("rect").attr("x",function(e){return e.xStart}).attr("y",function(e){return e.yStart}).attr("width",function(e){return e.xEnd-e.xStart+1}).attr("height",function(e){return e.yEnd-e.yStart+1}).style("fill",function(e){return e.color}).attr("trackID",function(e){return e.id}).attr("class",function(e){return"track"+e.id}).attr("color",function(e){return e.color}).on("mouseover",ve).on("mouseout",qe).on("dblclick",Ee)}function Ae(e,t){return e[6]<t[6]?-1:e[6]>t[6]?1:0}function ye(){var e=rt.append("defs"),t=e.append("pattern").attrs({id:"patternA",width:"7",height:"7",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)"});t.append("rect").attrs({x:"0",y:"0",width:"7",height:"7",fill:"#FFFFFF"}),t.append("rect").attrs({x:"0",y:"0",width:"3",height:"3",fill:"#505050"}),t.append("rect").attrs({x:"0",y:"4",width:"3",height:"3",fill:"#505050"}),t.append("rect").attrs({x:"4",y:"0",width:"3",height:"3",fill:"#505050"}),t.append("rect").attrs({x:"4",y:"4",width:"3",height:"3",fill:"#505050"}),t=e.append("pattern").attrs({id:"patternB",width:"8",height:"8",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)"}),t.append("rect").attrs({x:"0",y:"0",width:"8",height:"8",fill:"#FFFFFF"}),t.append("rect").attrs({x:"0",y:"0",width:"3",height:"3",fill:"#1f77b4"}),t.append("rect").attrs({x:"0",y:"5",width:"3",height:"3",fill:"#1f77b4"}),t.append("rect").attrs({x:"5",y:"0",width:"3",height:"3",fill:"#1f77b4"}),t.append("rect").attrs({x:"5",y:"5",width:"3",height:"3",fill:"#1f77b4"}),t=e.append("pattern").attrs({id:"plaid0",width:"6",height:"6",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)"}),t.append("rect").attrs({x:"0",y:"0",width:"6",height:"6",fill:"#FFFFFF"}),t.append("rect").attrs({x:"0",y:"0",width:"2",height:"2",fill:"#1f77b4"}),t.append("rect").attrs({x:"0",y:"4",width:"2",height:"2",fill:"#1f77b4"}),t.append("rect").attrs({x:"4",y:"0",width:"2",height:"2",fill:"#1f77b4"}),t.append("rect").attrs({x:"4",y:"4",width:"2",height:"2",fill:"#1f77b4"}),t=e.append("pattern").attrs({id:"plaid1",width:"6",height:"6",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)"}),t.append("rect").attrs({x:"0",y:"0",width:"6",height:"6",fill:"#FFFFFF"}),t.append("rect").attrs({x:"0",y:"0",width:"2",height:"2",fill:"#ff7f0e"}),t.append("rect").attrs({x:"0",y:"4",width:"2",height:"2",fill:"#ff7f0e"}),t.append("rect").attrs({x:"4",y:"0",width:"2",height:"2",fill:"#ff7f0e"}),t.append("rect").attrs({x:"4",y:"4",width:"2",height:"2",fill:"#ff7f0e"}),t=e.append("pattern").attrs({id:"plaid2",width:"6",height:"6",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)"}),t.append("rect").attrs({x:"0",y:"0",width:"6",height:"6",fill:"#FFFFFF"}),t.append("rect").attrs({x:"0",y:"0",width:"2",height:"2",fill:"#2ca02c"}),t.append("rect").attrs({x:"0",y:"4",width:"2",height:"2",fill:"#2ca02c"}),t.append("rect").attrs({x:"4",y:"0",width:"2",height:"2",fill:"#2ca02c"}),t.append("rect").attrs({x:"4",y:"4",width:"2",height:"2",fill:"#2ca02c"}),t=e.append("pattern").attrs({id:"plaid3",width:"6",height:"6",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)"}),t.append("rect").attrs({x:"0",y:"0",width:"6",height:"6",fill:"#FFFFFF"}),t.append("rect").attrs({x:"0",y:"0",width:"2",height:"2",fill:"#d62728"}),t.append("rect").attrs({x:"0",y:"4",width:"2",height:"2",fill:"#d62728"}),t.append("rect").attrs({x:"4",y:"0",width:"2",height:"2",fill:"#d62728"}),t.append("rect").attrs({x:"4",y:"4",width:"2",height:"2",fill:"#d62728"}),t=e.append("pattern").attrs({id:"plaid4",width:"6",height:"6",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)"}),t.append("rect").attrs({x:"0",y:"0",width:"6",height:"6",fill:"#FFFFFF"}),t.append("rect").attrs({x:"0",y:"0",width:"2",height:"2",fill:"#9467bd"}),t.append("rect").attrs({x:"0",y:"4",width:"2",height:"2",fill:"#9467bd"}),t.append("rect").attrs({x:"4",y:"0",width:"2",height:"2",fill:"#9467bd"}),t.append("rect").attrs({x:"4",y:"4",width:"2",height:"2",fill:"#9467bd"}),t=e.append("pattern").attrs({id:"plaid5",width:"6",height:"6",patternUnits:"userSpaceOnUse",patternTransform:"rotate(45)"}),t.append("rect").attrs({x:"0",y:"0",width:"6",height:"6",fill:"#FFFFFF"}),t.append("rect").attrs({x:"0",y:"0",width:"2",height:"2",fill:"#8c564b"}),t.append("rect").attrs({x:"0",y:"4",width:"2",height:"2",fill:"#8c564b"}),t.append("rect").attrs({x:"4",y:"0",width:"2",height:"2",fill:"#8c564b"}),t.append("rect").attrs({x:"4",y:"4",width:"2",height:"2",fill:"#8c564b"})}function ke(e){void 0===e&&(e="haplo");var t=Tt.filter(Ge("type",e));t.sort(Ae),t.forEach(function(e){var t=(e.xStart+e.xEnd)/2,n="M "+e.xStart+" "+e.yStart;n+=" C "+t+" "+e.yStart+" "+t+" "+e.yEnd+" "+e.xEnd+" "+e.yEnd,n+=" V "+(e.yEnd+e.width),n+=" C "+t+" "+(e.yEnd+e.width)+" "+t+" "+(e.yStart+e.width)+" "+e.xStart+" "+(e.yStart+e.width),n+=" Z",e.path=n}),rt.selectAll("trackCurves").data(Tt).enter().append("path").attr("d",function(e){return e.path}).style("fill",function(e){return e.color}).attr("trackID",function(e){return e.id}).attr("class",function(e){return"track"+e.id}).attr("color",function(e){return e.color}).on("mouseover",ve).on("mouseout",qe).on("dblclick",Ee)}function Te(e,t){void 0===t&&(t="haplo"),e=e.filter(Ge("type",t)),rt.selectAll("trackCorners").data(e).enter().append("path").attr("d",function(e){return e.path}).style("fill",function(e){return e.color}).attr("trackID",function(e){return e.id}).attr("class",function(e){return"track"+e.id}).attr("color",function(e){return e.color}).on("mouseover",ve).on("mouseout",qe).on("dblclick",Ee)}function xe(){for(var e='<table class="table-sm table-condensed table-nonfluid"><thead><tr><th>Color</th><th>Trackname</th><th>Show Track</th></tr></thead>',t=[],n=0;n<gt.length;n+=1)"haplo"===gt[n].type&&(e+='<tr><td style="text-align:right"><div class="color-box" style="background-color: '+re(gt[n],"exon")+';"></div></td>',gt[n].hasOwnProperty("name")?e+="<td>"+gt[n].name+"</td>":e+="<td>"+gt[n].id+"</td>",e+='<td><input type="checkbox" checked=true id="showTrack'+n+'"></td>',t.push(n));e+="</table",$("#legendDiv").html(e),t.forEach(function(e){document.getElementById("showTrack"+e).addEventListener("click",function(){return d(e)},!1)})}function ve(){var e=d3.select(this).attr("trackID");d3.selectAll(".track"+e).style("fill","url(#patternA)")}function we(){d3.select(this).style("stroke-width","4px")}function qe(){var e=d3.select(this).attr("trackID");d3.selectAll(".track"+e).each(function(){var e=d3.select(this).attr("color");d3.select(this).style("fill",e)})}function Ne(){d3.select(this).style("stroke-width","2px")}function Ee(){for(var e=d3.select(this).attr("trackID"),t=0;t<ht.length&&ht[t].id!==Number(e);)t+=1;t>=ht.length||(console.log("moving index: "+t),i(t),p())}function be(){var e=d3.select(this).attr("id");yt.clickableNodesFlag&&(_t&&yt.showReads?(document.getElementById("hgvmNodeID").value=e,document.getElementById("hgvmPostButton").click()):(document.getElementById("nodeID").value=e,document.getElementById("postButton").click()))}function Fe(e){var t=[];return e.node.forEach(function(e){t.push({name:""+e.id,sequenceLength:e.sequence.length,seq:e.sequence})}),t}function Oe(){switch(lt.forEach(function(e){e.hasOwnProperty("sequenceLength")||(e.sequenceLength=e.seq.length)}),yt.nodeWidthOption){case 1:lt.forEach(function(e){e.width=1+Math.log(e.sequenceLength)/Math.log(2),e.pixelWidth=Math.round(8.401*(e.width-1))});break;case 2:lt.forEach(function(e){e.width=e.sequenceLength/100,e.pixelWidth=Math.round(8.401*(e.width-1))});break;default:lt.forEach(function(e){e.width=e.sequenceLength,rt.append("text").attr("x",0).attr("y",100).attr("id","dummytext").text(e.seq.substr(1)).attr("font-family",'Courier, "Lucida Console", monospace').attr("font-size","14px").attr("fill","black").style("pointer-events","none"),e.pixelWidth=Math.round(document.getElementById("dummytext").getComputedTextLength()),$("#dummytext").remove()})}}function Se(e){var t=[];return e.path.forEach(function(e,n){var o=[],i=!0;e.mapping.forEach(function(e){e.position.hasOwnProperty("is_reverse")&&!0===e.position.is_reverse?o.push("-"+e.position.node_id):(o.push(""+e.position.node_id),i=!1)}),i&&(o.reverse(),o.forEach(function(e,t){o[t]=e.substr(1)}));var r={};r.id=n,r.sequence=o,e.hasOwnProperty("freq")&&(r.freq=e.freq),e.hasOwnProperty("name")&&(r.name=e.name),e.hasOwnProperty("indexOfFirstBase")&&(r.indexOfFirstBase=Number(e.indexOfFirstBase)),t.push(r)}),t}function Le(e,t,n){console.log(n);var o=[],i=[];e.forEach(function(e){i.push(parseInt(e.name,10))});for(var r=0;r<n.length;r+=1)!function(e){var r=n[e],d=[],a=[],h=-1,s=-1;if(r.path.mapping.forEach(function(t,n){if(i.indexOf(t.position.node_id)>-1){var o={},r=0;t.position.hasOwnProperty("is_reverse")&&!0===t.position.is_reverse?(d.push("-"+t.position.node_id),o.nodeName="-"+t.position.node_id):(d.push(""+t.position.node_id),o.nodeName=t.position.node_id.toString()),h<0&&(h=n,
t.position.hasOwnProperty("offset")&&(t.position.offset=parseInt(t.position.offset,10),r=t.position.offset)),s=n;var l=[],g=r;t.edit.forEach(function(o){o.hasOwnProperty("to_length")&&!o.hasOwnProperty("from_length")?l.push({type:"insertion",pos:g,seq:o.sequence}):!o.hasOwnProperty("to_length")&&o.hasOwnProperty("from_length")?l.push({type:"deletion",pos:g,length:o.from_length}):o.hasOwnProperty("sequence")&&(o.sequence.length>1&&console.log("found substitution at read "+e+", node "+n+" = "+t.position.node_id+", seq = "+o.sequence),l.push({type:"substitution",pos:g,seq:o.sequence})),o.hasOwnProperty("from_length")&&(g+=o.from_length)}),o.mismatches=l,a.push(o)}}),0===d.length)console.log("read "+e+" is empty");else{var l={};l.id=t.length+o.length,l.sequence=d,l.sequenceNew=a,l.type="read",r.path.hasOwnProperty("freq")&&(l.freq=r.path.freq),r.path.hasOwnProperty("name")&&(l.name=r.path.name),l.firstNodeOffset=0,r.path.mapping[h].position.hasOwnProperty("offset")&&(l.firstNodeOffset=r.path.mapping[h].position.offset);var g=r.path.mapping[s].edit;l.finalNodeCoverLength=0,r.path.mapping[s].position.hasOwnProperty("offset")&&(l.finalNodeCoverLength+=r.path.mapping[s].position.offset),g.forEach(function(e){e.hasOwnProperty("from_length")&&(l.finalNodeCoverLength+=e.from_length)}),o.push(l)}}(r);return o}function De(){for(var e=void 0,t=void 0,n=[],o=[],i=0;i<lt.length;i+=1)n.push(new Set),o.push(new Set);var r=void 0;r=_t&&yt.showReads?gt.concat(_t):gt,r.forEach(function(i){for(var r=0;r<i.sequence.length;r+=1)"-"!==i.sequence[r].charAt(0)?(r>0?(e=i.sequence[r-1],n[ct.get(i.sequence[r])].add(e),"-"===e.charAt(0)&&n[ct.get(i.sequence[r])].add(e.substr(1))):"haplo"===i.type&&n[ct.get(i.sequence[r])].add("None"),r<i.sequence.length-1?(e=i.sequence[r+1],o[ct.get(i.sequence[r])].add(e),"-"===e.charAt(0)&&o[ct.get(i.sequence[r])].add(e.substr(1))):"haplo"===i.type&&o[ct.get(i.sequence[r])].add("None")):(e=i.sequence[r].substr(1),r>0?(t=i.sequence[r-1],"-"===t.charAt(0)?o[ct.get(e)].add(t.substr(1)):(o[ct.get(e)].add(t),o[ct.get(e)].add("-"+t))):"haplo"===i.type&&o[ct.get(e)].add("None"),r<i.sequence.length-1?(t=i.sequence[r+1],"-"===t.charAt(0)?n[ct.get(e)].add(t.substr(1)):(n[ct.get(e)].add(t),n[ct.get(e)].add("-"+t))):"haplo"===i.type&&n[ct.get(e)].add("None"))});for(var d=0;d<lt.length;d+=1)o[d]=Array.from(o[d]),n[d]=Array.from(n[d]);if(_t&&yt.showReads){var a=lt.slice();a.sort(j);var h=new Map,s=new Map;a.forEach(function(e){var t=Me(ct.get(e.name),n,o);t?(h.set(e.name,h.get(t)+lt[ct.get(t)].sequenceLength),s.set(e.name,s.get(t))):(h.set(e.name,0),s.set(e.name,e.name))}),_t.forEach(function(e){e.firstNodeOffset+=h.get(e.sequence[0]),e.finalNodeCoverLength+=h.get(e.sequence[e.sequence.length-1]);for(var t=e.sequence.length-1;t>=0;t-=1)Me(ct.get(e.sequence[t]),n,o)&&function(){var i=Me(ct.get(e.sequence[t]),n,o);Ie(ct.get(i),n,o)&&(t>0?(e.sequence.splice(t,1),e.sequenceNew[t].mismatches.forEach(function(e){e.pos+=lt[ct.get(i)].sequenceLength}),e.sequenceNew[t-1].mismatches=e.sequenceNew[t-1].mismatches.concat(e.sequenceNew[t].mismatches),e.sequenceNew.splice(t,1)):(e.sequence[0]=s.get(e.sequence[0]),e.sequenceNew[t].mismatches.forEach(function(t){t.pos+=h.get(e.sequenceNew[0].nodeName)}),e.sequenceNew[0].nodeName=s.get(e.sequenceNew[0].nodeName)))}()})}for(var l=0;l<lt.length;l+=1)if(Ie(l,n,o)&&!Me(l,n,o))for(var g=l;Ie(g,n,o);)g=o[g][0],"-"===g.charAt(0)&&(g=g.substr(1)),g=ct.get(g),lt[l].hasOwnProperty("sequenceLength")?lt[l].sequenceLength+=lt[g].sequenceLength:lt[l].width+=lt[g].width,lt[l].seq+=lt[g].seq;gt.forEach(function(t){for(var i=t.sequence.length-1;i>=0;i-=1){e=t.sequence[i],"-"===e.charAt(0)&&(e=e.substr(1));Me(ct.get(e),n,o)&&t.sequence.splice(i,1)}});for(var _=lt.length-1;_>=0;_-=1)Me(_,n,o)&&lt.splice(_,1)}function Me(e,t,n){if(1!==t[e].length)return!1;if("None"===t[e][0])return!1;var o=t[e][0];"-"===o.charAt(0)&&(o=o.substr(1));var i=ct.get(o);return 1===n[i].length&&("None"!==n[i][0]&&o)}function Ie(e,t,n){if(1!==n[e].length)return!1;if("None"===n[e][0])return!1;var o=n[e][0];"-"===o.charAt(0)&&(o=o.substr(1));var i=ct.get(o);return 1===t[i].length&&"None"!==t[i][0]}function Be(){gt.forEach(function(e,t){"read"===e.type&&e.sequenceNew.forEach(function(t,n){t.mismatches.forEach(function(o){for(var i=ct.get(t.nodeName),r=lt[i],d=he(r,o.pos),a=n;e.path[a].node!==i;)a+=1;var h=e.path[a].y;if("insertion"===o.type)!yt.showSoftClips&&(o.pos===e.firstNodeOffset&&0===n||o.pos===e.finalNodeCoverLength&&n===e.sequenceNew.length-1)||Pe(d-3,h+7,o.seq,r.y);else if("deletion"===o.type){var s=he(r,o.pos+o.length);He(d,s,h+4,r.y)}else if("substitution"===o.type){var l=he(r,o.pos+o.seq.length);Re(d+1,l,h+7,r.y,o.seq)}})})})}function Pe(e,t,n,o){rt.append("text").attr("x",e).attr("y",t).text("*").attr("font-family",'Courier, "Lucida Console", monospace').attr("font-size","12px").attr("fill","black").attr("nodeY",o).on("mouseover",We).on("mouseout",Qe).append("svg:title").text(n)}function Re(e,t,n,o,i){rt.append("text").attr("x",e).attr("y",n).text(i).attr("font-family",'Courier, "Lucida Console", monospace').attr("font-size","12px").attr("fill","black").attr("nodeY",o).attr("rightX",t).on("mouseover",Ue).on("mouseout",Ze)}function He(e,t,n,o){rt.append("line").attr("x1",e).attr("y1",n-1).attr("x2",t).attr("y2",n-1).attr("stroke-width",7).attr("stroke","grey").attr("nodeY",o).on("mouseover",Je).on("mouseout",Ye)}function We(){d3.select(this).attr("fill","red");var e=Number(d3.select(this).attr("x")),t=Number(d3.select(this).attr("y")),n=Number(d3.select(this).attr("nodeY"));rt.append("line").attr("class","insertionHighlight").attr("x1",e+4).attr("y1",t-10).attr("x2",e+4).attr("y2",n+5).attr("stroke-width",1).attr("stroke","black")}function Je(){d3.select(this).attr("stroke","red");var e=Number(d3.select(this).attr("x1")),t=Number(d3.select(this).attr("x2")),n=Number(d3.select(this).attr("y1")),o=Number(d3.select(this).attr("nodeY"));rt.append("line").attr("class","deletionHighlight").attr("x1",e).attr("y1",n-3).attr("x2",e).attr("y2",o+5).attr("stroke-width",1).attr("stroke","black"),rt.append("line").attr("class","deletionHighlight").attr("x1",t).attr("y1",n-3).attr("x2",t).attr("y2",o+5).attr("stroke-width",1).attr("stroke","black")}function Ue(){d3.select(this).attr("fill","red");var e=Number(d3.select(this).attr("x")),t=Number(d3.select(this).attr("rightX")),n=Number(d3.select(this).attr("y")),o=Number(d3.select(this).attr("nodeY"));rt.append("line").attr("class","substitutionHighlight").attr("x1",e-1).attr("y1",n-7).attr("x2",e-1).attr("y2",o+5).attr("stroke-width",1).attr("stroke","black"),rt.append("line").attr("class","substitutionHighlight").attr("x1",t+1).attr("y1",n-7).attr("x2",t+1).attr("y2",o+5).attr("stroke-width",1).attr("stroke","black")}function Qe(){d3.select(this).attr("fill","black"),d3.selectAll(".insertionHighlight").remove()}function Ye(){d3.select(this).attr("stroke","grey"),d3.selectAll(".deletionHighlight").remove()}function Ze(){d3.select(this).attr("fill","black"),d3.selectAll(".substitutionHighlight").remove()}Object.defineProperty(n,"__esModule",{value:!0}),n.create=o,n.changeTrackVisibility=d,n.changeExonVisibility=a,n.setMergeNodesFlag=h,n.setSoftClipsFlag=s,n.setShowReadsFlag=l,n.setColorSet=g,n.setNodeWidthOption=_,n.zoomBy=b,n.useColorScheme=ne,n.vgExtractNodes=Fe,n.vgExtractTracks=Se,n.vgExtractReads=Le;var Ve=!1,ze=["#d9d9d9","#bdbdbd","#969696","#737373","#525252","#252525","#000000"],Ke=["#c6dbef","#9ecae1","#6baed6","#4292c6","#2171b5","#08519c","#08306b"],Xe=["#fcbba1","#fc9272","#fb6a4a","#ef3b2c","#cb181d","#a50f15","#67000d"],$e=["#1f77b4","#ff7f0e","#2ca02c","#d62728","#9467bd","#8c564b","#e377c2","#7f7f7f","#bcbd22","#17becf"],je=["#ABCCE3","#FFCFA5","#B0DBB0","#F0AEAE","#D7C6E6","#C6ABA5","#F4CCE8","#CFCFCF","#E6E6AC","#A8E7ED"],et=[],tt=[],nt=[],ot=[],it=void 0,rt=void 0,dt=n.zoom=void 0,at=[],ht=[],st=[],lt=void 0,gt=void 0,_t=void 0,pt=void 0,ft=void 0,ct=void 0,Ct=void 0,mt=[],Gt=[],ut=[],At=void 0,yt={mergeNodesFlag:!0,clickableNodesFlag:!1,showExonsFlag:!1,colorScheme:0,nodeWidthOption:0,showReads:!0,showSoftClips:!0,haplotypeColors:"greys",forwardReadColors:"reds",reverseReadColors:"blues",exonColors:"lightColors",hideLegendFlag:!1},kt=[],Tt=[],xt=[],vt=[],wt=[],qt=0,Nt=0,Et=0,bt=void 0,Ft=void 0},{}]},{},[2]);
//# sourceMappingURL=examples.js.map
